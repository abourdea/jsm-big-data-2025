{
  "hash": "e4ad8c220f6e1aad2dcfe157bc2f5a87",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"`data.table`\"\nsubtitle: \"Fast and Memory Efficient Data Manipulation\"\nformat: \n  revealjs:\n    footer: \"[JSM: Large Data](https://github.com/kbodwin/jsm-large-data)\"\n    theme: simple\n    scrollable: true\n    embed-resources: true\neditor: source\nexecute:\n  message: false\n  warning: false\n  echo: true\n---\n\n\n---\n\n<br>\n\n> \"Sometimes I'll start a sentence and I don't even know where it's going. I just hope I find it along the way.\"\n\n. . .\n\n<br>\n\n> \"I am fast. To give you a reference point, I am somewhere between a snake and a mongoose... and a panther.\" \n\n\n## Why `data.table`?\n\n::: {.fragment .fade-in-then-semi-out}\n1. **Concise syntax**: fast to type, fast to read -- \"Me think, why waste time say lot word when few word do trick.\"\n:::\n\n::: {.fragment .fade-in-then-semi-out}\n2. **Fast speed**: optimized C code under the hood -- \"I am faster than 80 percent of all snakes.\"\n:::\n\n::: {.fragment .fade-in-then-semi-out}\n3. **Memory efficient**: modify by reference -- \"Whenever I’m about to do something, I think, “would an idiot do that?” And if they would, I do not do that thing.\"\n:::\n\n## Why `data.table`?\n\n::: {.fragment .fade-in-then-semi-out}\n4. **Careful API lifecycle management**: stable, backward compatible -- \"I'm not superstitious, but I am a little stitious.\"\n:::\n\n::: {.fragment .fade-in-then-semi-out}\n5. **Community**: active development and support -- \"Would I rather be feared or loved? Easy. Both. I want people to be afraid of how much they love me.\"\n:::\n\n::: {.fragment .fade-in-then-semi-out}\n6. **Feature rich**: comprehensive data manipulation toolkit -- \"Bears, beets, Battlestar Galactica.\"\n:::\n\n\n\n# Data for Examples {background=\"#43464B\"}\n\n## Loading PUMS Data\n\nPreview to next section with Jonathon about `arrow`:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(data.table)\nlibrary(dplyr)\nlibrary(arrow)\n\n# Preview into next section: Load multiple states and years using arrow\npums <- open_dataset(here::here(\"data/person\")) |>\n  filter(year >= 2020, location %in% c(\"ca\", \"tx\", \"ny\")) |>\n  collect()\nsetDT(pums)\n```\n:::\n\n\n## Loading PUMS Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\npums[, 1:5]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n         SPORDER            RT      SERIALNO   PUMA          ST\n           <int>        <fctr>        <char> <char>      <char>\n      1:       1 Person Record 2021GQ0000077  03301 New York/NY\n      2:       1 Person Record 2021GQ0000090  01600 New York/NY\n      3:       1 Person Record 2021GQ0000091  03212 New York/NY\n      4:       1 Person Record 2021GQ0000094  02100 New York/NY\n      5:       1 Person Record 2021GQ0000097  04102 New York/NY\n     ---                                                       \n1735551:       1 Person Record 2022HU0609672  04611    Texas/TX\n1735552:       2 Person Record 2022HU0609672  04611    Texas/TX\n1735553:       3 Person Record 2022HU0609672  04611    Texas/TX\n1735554:       1 Person Record 2022HU0609675  04302    Texas/TX\n1735555:       2 Person Record 2022HU0609675  04302    Texas/TX\n```\n\n\n:::\n\n```{.r .cell-code}\nnames(pums)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  [1] \"SPORDER\"   \"RT\"        \"SERIALNO\"  \"PUMA\"      \"ST\"        \"ADJUST\"   \n  [7] \"PWGTP\"     \"AGEP\"      \"CIT\"       \"COW\"       \"DDRS\"      \"DEYE\"     \n [13] \"DOUT\"      \"DPHY\"      \"DREM\"      \"DWRK\"      \"ENG\"       \"FER\"      \n [19] \"GCL\"       \"GCM\"       \"GCR\"       \"INTP\"      \"JWMNP\"     \"JWRIP\"    \n [25] \"JWTR\"      \"LANX\"      \"MAR\"       \"MIG\"       \"MIL\"       \"MILY\"     \n [31] \"MLPA\"      \"MLPB\"      \"MLPC\"      \"MLPD\"      \"MLPE\"      \"MLPF\"     \n [37] \"MLPG\"      \"MLPH\"      \"MLPI\"      \"MLPJ\"      \"MLPK\"      \"NWAB\"     \n [43] \"NWAV\"      \"NWLA\"      \"NWLK\"      \"NWRE\"      \"OIP\"       \"PAP\"      \n [49] \"REL\"       \"RETP\"      \"SCH\"       \"SCHG\"      \"SCHL\"      \"SEMP\"     \n [55] \"SEX\"       \"SSIP\"      \"SSP\"       \"WAGP\"      \"WKHP\"      \"WKL\"      \n [61] \"WKW\"       \"YOEP\"      \"UWRK\"      \"ANC\"       \"ANC1P\"     \"ANC2P\"    \n [67] \"DECADE\"    \"DRIVESP\"   \"DS\"        \"ESP\"       \"ESR\"       \"HISP\"     \n [73] \"INDP\"      \"JWAP\"      \"JWDP\"      \"LANP\"      \"MIGPUMA\"   \"MIGSP\"    \n [79] \"MSP\"       \"NAICSP\"    \"NATIVITY\"  \"OC\"        \"OCCP\"      \"PAOC\"     \n [85] \"PERNP\"     \"PINCP\"     \"POBP\"      \"POVPIP\"    \"POWPUMA\"   \"POWSP\"    \n [91] \"QTRBIR\"    \"RAC1P\"     \"RAC2P\"     \"RAC3P\"     \"RACAIAN\"   \"RACASN\"   \n [97] \"RACBLK\"    \"RACNHPI\"   \"RACNUM\"    \"RACSOR\"    \"RACWHT\"    \"RC\"       \n[103] \"SFN\"       \"SFR\"       \"SOCP\"      \"VPS\"       \"WAOB\"      \"FAGEP\"    \n[109] \"FANCP\"     \"FCITP\"     \"FCOWP\"     \"FDDRSP\"    \"FDEYEP\"    \"FDOUTP\"   \n[115] \"FDPHYP\"    \"FDREMP\"    \"FDWRKP\"    \"FENGP\"     \"FESRP\"     \"FFERP\"    \n[121] \"FGCLP\"     \"FGCMP\"     \"FGCRP\"     \"FHISP\"     \"FINDP\"     \"FINTP\"    \n[127] \"FJWDP\"     \"FJWMNP\"    \"FJWRIP\"    \"FJWTRP\"    \"FLANP\"     \"FLANXP\"   \n[133] \"FMARP\"     \"FMIGP\"     \"FMIGSP\"    \"FMILPP\"    \"FMILSP\"    \"FMILYP\"   \n[139] \"FOCCP\"     \"FOIP\"      \"FPAP\"      \"FPOBP\"     \"FPOWSP\"    \"FRACP\"    \n[145] \"FRELP\"     \"FRETP\"     \"FSCHGP\"    \"FSCHLP\"    \"FSCHP\"     \"FSEMP\"    \n[151] \"FSEXP\"     \"FSSIP\"     \"FSSP\"      \"FWAGP\"     \"FWKHP\"     \"FWKLP\"    \n[157] \"FWKWP\"     \"FYOEP\"     \"PWGTP1\"    \"PWGTP2\"    \"PWGTP3\"    \"PWGTP4\"   \n[163] \"PWGTP5\"    \"PWGTP6\"    \"PWGTP7\"    \"PWGTP8\"    \"PWGTP9\"    \"PWGTP10\"  \n[169] \"PWGTP11\"   \"PWGTP12\"   \"PWGTP13\"   \"PWGTP14\"   \"PWGTP15\"   \"PWGTP16\"  \n[175] \"PWGTP17\"   \"PWGTP18\"   \"PWGTP19\"   \"PWGTP20\"   \"PWGTP21\"   \"PWGTP22\"  \n[181] \"PWGTP23\"   \"PWGTP24\"   \"PWGTP25\"   \"PWGTP26\"   \"PWGTP27\"   \"PWGTP28\"  \n[187] \"PWGTP29\"   \"PWGTP30\"   \"PWGTP31\"   \"PWGTP32\"   \"PWGTP33\"   \"PWGTP34\"  \n[193] \"PWGTP35\"   \"PWGTP36\"   \"PWGTP37\"   \"PWGTP38\"   \"PWGTP39\"   \"PWGTP40\"  \n[199] \"PWGTP41\"   \"PWGTP42\"   \"PWGTP43\"   \"PWGTP44\"   \"PWGTP45\"   \"PWGTP46\"  \n[205] \"PWGTP47\"   \"PWGTP48\"   \"PWGTP49\"   \"PWGTP50\"   \"PWGTP51\"   \"PWGTP52\"  \n[211] \"PWGTP53\"   \"PWGTP54\"   \"PWGTP55\"   \"PWGTP56\"   \"PWGTP57\"   \"PWGTP58\"  \n[217] \"PWGTP59\"   \"PWGTP60\"   \"PWGTP61\"   \"PWGTP62\"   \"PWGTP63\"   \"PWGTP64\"  \n[223] \"PWGTP65\"   \"PWGTP66\"   \"PWGTP67\"   \"PWGTP68\"   \"PWGTP69\"   \"PWGTP70\"  \n[229] \"PWGTP71\"   \"PWGTP72\"   \"PWGTP73\"   \"PWGTP74\"   \"PWGTP75\"   \"PWGTP76\"  \n[235] \"PWGTP77\"   \"PWGTP78\"   \"PWGTP79\"   \"PWGTP80\"   \"NOP\"       \"ADJINC\"   \n[241] \"CITWP\"     \"DEAR\"      \"DRAT\"      \"DRATX\"     \"HINS1\"     \"HINS2\"    \n[247] \"HINS3\"     \"HINS4\"     \"HINS5\"     \"HINS6\"     \"HINS7\"     \"MARHD\"    \n[253] \"MARHM\"     \"MARHT\"     \"MARHW\"     \"MARHYP\"    \"DIS\"       \"HICOV\"    \n[259] \"PRIVCOV\"   \"PUBCOV\"    \"FCITWP\"    \"FDEARP\"    \"FDRATP\"    \"FDRATXP\"  \n[265] \"FHINS1P\"   \"FHINS2P\"   \"FHINS3P\"   \"FHINS4P\"   \"FHINS5P\"   \"FHINS6P\"  \n[271] \"FHINS7P\"   \"FMARHDP\"   \"FMARHMP\"   \"FMARHTP\"   \"FMARHWP\"   \"FMARHYP\"  \n[277] \"WRK\"       \"FOD1P\"     \"FOD2P\"     \"SCIENGP\"   \"SCIENGRLP\" \"FFODP\"    \n[283] \"FHINS3C\"   \"FHINS4C\"   \"FHINS5C\"   \"RELP\"      \"FWRKP\"     \"FDISP\"    \n[289] \"FPERNP\"    \"FPINCP\"    \"FPRIVCOVP\" \"FPUBCOVP\"  \"RACNH\"     \"RACPI\"    \n[295] \"SSPA\"      \"MLPCD\"     \"MLPFG\"     \"FHICOVP\"   \"DIVISION\"  \"REGION\"   \n[301] \"HIMRKS\"    \"JWTRNS\"    \"RELSHIPP\"  \"WKWN\"      \"FHIMRKSP\"  \"FJWTRNSP\" \n[307] \"FRELSHIPP\" \"FWKWNP\"    \"MLPIK\"     \"year\"      \"location\" \n```\n\n\n:::\n:::\n\n\n\n## 1. Concise Syntax\n\n\"why waste time say lot word when few word do trick.\"\n\n<br>\n\n![](images/dt_syntax.png)\n\n\n:::{.notes}\nIn `j` we can grab individual variables or a list of them (using the `.()`)\n:::\n\n## 1. Concise Syntax\n\n**Fast to type, fast to read**\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"1-6|8-14\"}\n# Base R approach\npums_df <- as.data.frame(pums)\nsubset_data <- pums_df[pums$ST == \"California/CA\" & pums$year == 2022, ]\nage_groups <- ifelse(subset_data$AGEP < 18, \"Under 18\",\n                    ifelse(subset_data$AGEP < 65, \"18-64\", \"65+\"))\nbase_result <- aggregate(subset_data$PWGTP, by = list(age_group = age_groups), FUN = sum)\n\n# data.table approach\npums[, age_groups := fcase(AGEP < 18, \"Under 18\", AGEP < 65, \"18-64\", default = \"65+\")]\ndt_result <- pums[\n  year == 2022 & ST == \"California/CA\", \n  .(total_pop = sum(PWGTP)), \n  by = age_groups\n]\n```\n:::\n\n\n. . .\n\n::::columns\n::: {.column width=\"50%\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbase_result\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  age_group        x\n1     18-64 24372342\n2       65+  6165865\n3  Under 18  8491135\n```\n\n\n:::\n:::\n\n\n:::\n\n::: {.column width=\"50%\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndt_result\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   age_groups total_pop\n       <char>     <int>\n1:      18-64  24372342\n2:        65+   6165865\n3:   Under 18   8491135\n```\n\n\n:::\n:::\n\n\n:::\n::::\n\n\n## Fill in the Blank {auto-animate=\"true\"}\n\nWe want to take the `pums` data.table and select the `SCHL`, `SEX`, `ST`, and `AGEP`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndt_subset <- pums[,\n\n]\n```\n:::\n\n\n\n## Fill in the Blank {auto-animate=\"true\"}\n\nWe want to take the `pums` data.table and select the `SCHL`, `SEX`, `ST`, and `AGEP`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndt_subset <- pums[,\n  .(SCHL, SEX, ST, AGEP)\n]\n```\n:::\n\n\n## Fill in the Blank\n\nWe want to subset to those in \"ny\" based on our `location` variable, group by `age_groups` and `year`, and get the proportion of those in the \"Civilian employed, at work\" based on the `ESR` variable.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndt_ny <- pums[\n\n\n\n]\n```\n:::\n\n\n## Fill in the Blank {auto-animate=\"true\"}\n\nWe want to subset to those in \"ny\" based on our `location` variable, group by `age_groups` and `year`, and get the proportion of those in the \"Civilian employed, at work\" based on the `ESR` variable.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndt_ny <- pums[\n  location == \"ny\",\n  .(employed = mean(ESR == \"Civilian employed, at work\", na.rm = TRUE)),\n  by = .(age_groups, year)\n]\n```\n:::\n\n\n## What will this do?\n\n`HINSx` are insurance types\n`WAGP` income (wages/salary) last 12 months\n\n\n::: {.cell}\n\n```{.r .cell-code}\npums[, ins_type := fcase(\n  HINS1 == TRUE, \"employer\", \n  HINS2 == TRUE, \"direct\", \n  HINS3 == TRUE, \"Medicare\", \n  HINS4 == TRUE, \"Medicaid\",\n  HINS5 == TRUE | HINS6 == TRUE | HINS7 == TRUE, \"other\",\n  default = \"no insurance\")\n]\npums[, .(avg_income = mean(WAGP, na.rm = TRUE)), by = ins_type]\n```\n:::\n\n\n\n## What will this do?\n\n`HINSx` are insurance types\n`WAGP` income (wages/salary) last 12 months\n\n\n::: {.cell}\n\n```{.r .cell-code}\npums[, ins_type := fcase(\n  HINS1 == TRUE, \"employer\", \n  HINS2 == TRUE, \"direct\", \n  HINS3 == TRUE, \"Medicare\", \n  HINS4 == TRUE, \"Medicaid\",\n  HINS5 == TRUE | HINS6 == TRUE | HINS7 == TRUE, \"other\",\n  default = \"no insurance\")\n]\npums[, .(avg_income = mean(WAGP, na.rm = TRUE)), by = ins_type]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n       ins_type avg_income\n         <char>      <num>\n1:     Medicaid  10794.296\n2:     Medicare   6044.857\n3:     employer  57418.563\n4:       direct  20805.087\n5:        other  30429.201\n6: no insurance  18047.548\n```\n\n\n:::\n:::\n\n\n\n## 2. Fast Speed\n\n\"I am faster than 80 percent of all snakes.\"\n\nBenchmarking is **difficult**\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Benchmarking aggregation operations\nmicrobenchmark::microbenchmark(\n  # data.table\n  pums[, .(total_pop = sum(PWGTP)), by = .(ST, year)],\n  \n  # dplyr\n  pums_df |> \n    group_by(ST, year) |> \n    summarise(total_pop = sum(PWGTP), .groups = \"drop\"),\n\n  times = 10\n)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nUnit: milliseconds\n                                                                                  expr\n                                   pums[, .(total_pop = sum(PWGTP)), by = .(ST, year)]\n summarise(group_by(pums_df, ST, year), total_pop = sum(PWGTP),      .groups = \"drop\")\n      min       lq     mean   median       uq      max neval\n 15.84650 16.83784 17.46681 17.17168 17.46444 21.73935    10\n 28.48758 28.52358 29.94888 28.80980 29.63004 37.68622    10\n```\n\n\n:::\n:::\n\n\n\n## 2. Fast Speed\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Benchmarking aggregation operations\nmicrobenchmark::microbenchmark(\n  # data.table\n  pums[, .(total_pop = sum(PWGTP)), keyby = .(ST, year)],\n  \n  # dplyr\n  pums_df |> \n    group_by(ST, year) |> \n    summarise(total_pop = sum(PWGTP), .groups = \"drop\") |> \n    arrange(ST, year),\n\n  times = 10\n)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nUnit: milliseconds\n                                                                                                     expr\n                                                   pums[, .(total_pop = sum(PWGTP)), keyby = .(ST, year)]\n arrange(summarise(group_by(pums_df, ST, year), total_pop = sum(PWGTP),      .groups = \"drop\"), ST, year)\n      min       lq     mean   median       uq      max neval\n 40.18968 41.12304 41.56273 41.56898 41.96637 43.13647    10\n 28.73346 28.86269 29.51425 29.36078 30.30113 30.80109    10\n```\n\n\n:::\n:::\n\n\n\n## 3. Memory Efficient\n\n\"Whenever I’m about to do something, I think, “would an idiot do that?” And if they would, I do not do that thing.\"\n\n<br>\n\nQuick History Lesson on Shallow/Deep Copies\n\n\n. . .\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create a copy (memory inefficient)\npums_nocopy <- pums\n\n# Modify by reference (memory efficient)\npums[, age_decade := floor(AGEP / 10) * 10]\n\n# shows up in pums_nocopy\npums_nocopy[, .(age_decade)]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n         age_decade\n              <num>\n      1:         50\n      2:         40\n      3:         10\n      4:         50\n      5:         80\n     ---           \n1735551:         50\n1735552:         60\n1735553:         20\n1735554:         60\n1735555:         60\n```\n\n\n:::\n:::\n\n\n. . . \n\n:::: columns\n::: {.column}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlobstr::ref(pums)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n█ [1:0x106700400] <dt[,314]> \n├─SPORDER = [2:0x11e950000] <int> \n├─RT = [3:0x11f690000] <fct> \n├─SERIALNO = [4:0x13d100000] <chr> \n├─PUMA = [5:0x149000000] <chr> \n├─ST = [6:0x14aa80000] <chr> \n├─ADJUST = [7:0x3086a8000] <int> \n├─PWGTP = [8:0x3093e8000] <int> \n├─AGEP = [9:0x30a128000] <int> \n├─CIT = [10:0x30ae68000] <fct> \n├─COW = [11:0x10e250000] <fct> \n├─DDRS = [12:0x129b40000] <lgl> \n├─DEYE = [13:0x12a1e0000] <lgl> \n├─DOUT = [14:0x110040000] <lgl> \n├─DPHY = [15:0x1106e0000] <lgl> \n├─DREM = [16:0x110d80000] <lgl> \n├─DWRK = [17:0x111420000] <lgl> \n├─ENG = [18:0x10ef90000] <fct> \n├─FER = [19:0x1185f0000] <lgl> \n├─GCL = [20:0x118c90000] <lgl> \n├─GCM = [21:0x3006a8000] <fct> \n├─GCR = [22:0x130620000] <lgl> \n├─INTP = [23:0x3013e8000] <int> \n├─JWMNP = [24:0x302128000] <int> \n├─JWRIP = [25:0x1512bc000] <chr> \n├─JWTR = [26:0x152d3c000] <chr> \n├─LANX = [27:0x130cc0000] <lgl> \n├─MAR = [28:0x302e68000] <fct> \n├─MIG = [29:0x131360000] <lgl> \n├─MIL = [30:0x303ba8000] <fct> \n├─MILY = [31:0x3048e8000] <fct> \n├─MLPA = [32:0x131a00000] <lgl> \n├─MLPB = [33:0x119330000] <lgl> \n├─MLPC = [34:0x1199d0000] <lgl> \n├─MLPD = [35:0x12a880000] <lgl> \n├─MLPE = [36:0x12af20000] <lgl> \n├─MLPF = [37:0x12b5c0000] <lgl> \n├─MLPG = [38:0x12bc60000] <lgl> \n├─MLPH = [39:0x12c300000] <lgl> \n├─MLPI = [40:0x12c9a0000] <lgl> \n├─MLPJ = [41:0x12d040000] <lgl> \n├─MLPK = [42:0x111ac0000] <lgl> \n├─NWAB = [43:0x112160000] <lgl> \n├─NWAV = [44:0x305628000] <fct> \n├─NWLA = [45:0x1320a0000] <lgl> \n├─NWLK = [46:0x132740000] <lgl> \n├─NWRE = [47:0x108828000] <lgl> \n├─OIP = [48:0x306368000] <int> \n├─PAP = [49:0x3070a8000] <int> \n├─REL = [50:0x1547bc000] <chr> \n├─RETP = [51:0x30bba8000] <int> \n├─SCH = [52:0x140090000] <lgl> \n├─SCHG = [53:0x15623c000] <chr> \n├─SCHL = [54:0x168000000] <chr> \n├─SEMP = [55:0x310210000] <int> \n├─SEX = [56:0x30c8e8000] <fct> \n├─SSIP = [57:0x30d628000] <int> \n├─SSP = [58:0x30e368000] <int> \n├─WAGP = [59:0x30f0a8000] <int> \n├─WKHP = [60:0x310f50000] <int> \n├─WKL = [61:0x318008000] <fct> \n├─WKW = [62:0x318d48000] <fct> \n├─YOEP = [63:0x169a80000] <chr> \n├─UWRK = [64:0x112800000] <lgl> \n├─ANC = [65:0x328008000] <fct> \n├─ANC1P = [66:0x320d40000] <chr> \n├─ANC2P = [67:0x3227c0000] <chr> \n├─DECADE = [68:0x330008000] <fct> \n├─DRIVESP = [69:0x330d48000] <fct> \n├─DS = [70:0x112ea0000] <lgl> \n├─ESP = [71:0x331a88000] <fct> \n├─ESR = [72:0x3327c8000] <fct> \n├─HISP = [73:0x324240000] <chr> \n├─INDP = [74:0x325cc0000] <chr> \n├─JWAP = [75:0x338000000] <chr> \n├─JWDP = [76:0x339a80000] <chr> \n├─LANP = [77:0x33b500000] <chr> \n├─MIGPUMA = [78:0x319a88000] <fct> \n├─MIGSP = [79:0x33cf80000] <chr> \n├─MSP = [80:0x328d48000] <fct> \n├─NAICSP = [81:0x33ea00000] <chr> \n├─NATIVITY = [82:0x31a7c8000] <fct> \n├─OC = [83:0x160008000] <lgl> \n├─OCCP = [84:0x340480000] <chr> \n├─PAOC = [85:0x311c90000] <fct> \n├─PERNP = [86:0x3129d0000] <int> \n├─PINCP = [87:0x313710000] <int> \n├─POBP = [88:0x341f00000] <chr> \n├─POVPIP = [89:0x314450000] <int> \n├─POWPUMA = [90:0x315190000] <fct> \n├─POWSP = [91:0x343980000] <chr> \n├─QTRBIR = [92:0x329a88000] <fct> \n├─RAC1P = [93:0x32a7c8000] <fct> \n├─RAC2P = [94:0x345400000] <chr> \n├─RAC3P = [95:0x346e80000] <chr> \n├─RACAIAN = [96:0x1606a8000] <lgl> \n├─RACASN = [97:0x160d48000] <lgl> \n├─RACBLK = [98:0x1613e8000] <lgl> \n├─RACNHPI = [99:0x161a88000] <lgl> \n├─RACNUM = [100:0x333508000] <int> \n├─RACSOR = [101:0x132de0000] <lgl> \n├─RACWHT = [102:0x140730000] <lgl> \n├─RC = [103:0x140dd0000] <lgl> \n├─SFN = [104:0x334248000] <fct> \n├─SFR = [105:0x334f88000] <fct> \n├─SOCP = [106:0x348900000] <chr> \n├─VPS = [107:0x34a380000] <chr> \n├─WAOB = [108:0x32b508000] <fct> \n├─FAGEP = [109:0x141470000] <lgl> \n├─FANCP = [110:0x141b10000] <lgl> \n├─FCITP = [111:0x1421b0000] <lgl> \n├─FCOWP = [112:0x142850000] <lgl> \n├─FDDRSP = [113:0x108ec8000] <lgl> \n├─FDEYEP = [114:0x133480000] <lgl> \n├─FDOUTP = [115:0x11a070000] <lgl> \n├─FDPHYP = [116:0x133b20000] <lgl> \n├─FDREMP = [117:0x1341c0000] <lgl> \n├─FDWRKP = [118:0x134860000] <lgl> \n├─FENGP = [119:0x11a710000] <lgl> \n├─FESRP = [120:0x11adb0000] <lgl> \n├─FFERP = [121:0x11b450000] <lgl> \n├─FGCLP = [122:0x11baf0000] <lgl> \n├─FGCMP = [123:0x11c190000] <lgl> \n├─FGCRP = [124:0x113540000] <lgl> \n├─FHISP = [125:0x113be0000] <lgl> \n├─FINDP = [126:0x114280000] <lgl> \n├─FINTP = [127:0x114920000] <lgl> \n├─FJWDP = [128:0x109568000] <lgl> \n├─FJWMNP = [129:0x114fc0000] <lgl> \n├─FJWRIP = [130:0x115660000] <lgl> \n├─FJWTRP = [131:0x115d00000] <lgl> \n├─FLANP = [132:0x158050000] <lgl> \n├─FLANXP = [133:0x11c830000] <lgl> \n├─FMARP = [134:0x142ef0000] <lgl> \n├─FMIGP = [135:0x1163a0000] <lgl> \n├─FMIGSP = [136:0x116a40000] <lgl> \n├─FMILPP = [137:0x1170e0000] <lgl> \n├─FMILSP = [138:0x117780000] <lgl> \n├─FMILYP = [139:0x12d6e0000] <lgl> \n├─FOCCP = [140:0x11ced0000] <lgl> \n├─FOIP = [141:0x11d570000] <lgl> \n├─FPAP = [142:0x143590000] <lgl> \n├─FPOBP = [143:0x11dc10000] <lgl> \n├─FPOWSP = [144:0x11e2b0000] <lgl> \n├─FRACP = [145:0x109c08000] <lgl> \n├─FRELP = [146:0x10a2a8000] <lgl> \n├─FRETP = [147:0x10a948000] <lgl> \n├─FSCHGP = [148:0x10afe8000] <lgl> \n├─FSCHLP = [149:0x10b688000] <lgl> \n├─FSCHP = [150:0x10bd28000] <lgl> \n├─FSEMP = [151:0x10c3c8000] <lgl> \n├─FSEXP = [152:0x162128000] <lgl> \n├─FSSIP = [153:0x1627c8000] <lgl> \n├─FSSP = [154:0x162e68000] <lgl> \n├─FWAGP = [155:0x163508000] <lgl> \n├─FWKHP = [156:0x163ba8000] <lgl> \n├─FWKLP = [157:0x164248000] <lgl> \n├─FWKWP = [158:0x1648e8000] <lgl> \n├─FYOEP = [159:0x164f88000] <lgl> \n├─PWGTP1 = [160:0x32c248000] <int> \n├─PWGTP2 = [161:0x32cf88000] <int> \n├─PWGTP3 = [162:0x32dcc8000] <int> \n├─PWGTP4 = [163:0x315ed0000] <int> \n├─PWGTP5 = [164:0x316c10000] <int> \n├─PWGTP6 = [165:0x317950000] <int> \n├─PWGTP7 = [166:0x3506a8000] <int> \n├─PWGTP8 = [167:0x3513e8000] <int> \n├─PWGTP9 = [168:0x352128000] <int> \n├─PWGTP10 = [169:0x352e68000] <int> \n├─PWGTP11 = [170:0x353ba8000] <int> \n├─PWGTP12 = [171:0x3548e8000] <int> \n├─PWGTP13 = [172:0x355628000] <int> \n├─PWGTP14 = [173:0x356368000] <int> \n├─PWGTP15 = [174:0x3570a8000] <int> \n├─PWGTP16 = [175:0x358008000] <int> \n├─PWGTP17 = [176:0x358d48000] <int> \n├─PWGTP18 = [177:0x359a88000] <int> \n├─PWGTP19 = [178:0x32ea08000] <int> \n├─PWGTP20 = [179:0x32f748000] <int> \n├─PWGTP21 = [180:0x3606a8000] <int> \n├─PWGTP22 = [181:0x3613e8000] <int> \n├─PWGTP23 = [182:0x362128000] <int> \n├─PWGTP24 = [183:0x362e68000] <int> \n├─PWGTP25 = [184:0x363ba8000] <int> \n├─PWGTP26 = [185:0x3648e8000] <int> \n├─PWGTP27 = [186:0x365628000] <int> \n├─PWGTP28 = [187:0x366368000] <int> \n├─PWGTP29 = [188:0x3670a8000] <int> \n├─PWGTP30 = [189:0x368008000] <int> \n├─PWGTP31 = [190:0x368d48000] <int> \n├─PWGTP32 = [191:0x369a88000] <int> \n├─PWGTP33 = [192:0x36a7c8000] <int> \n├─PWGTP34 = [193:0x36b508000] <int> \n├─PWGTP35 = [194:0x35a7c8000] <int> \n├─PWGTP36 = [195:0x35b508000] <int> \n├─PWGTP37 = [196:0x35c248000] <int> \n├─PWGTP38 = [197:0x35cf88000] <int> \n├─PWGTP39 = [198:0x35dcc8000] <int> \n├─PWGTP40 = [199:0x35ea08000] <int> \n├─PWGTP41 = [200:0x35f748000] <int> \n├─PWGTP42 = [201:0x36c248000] <int> \n├─PWGTP43 = [202:0x36cf88000] <int> \n├─PWGTP44 = [203:0x36dcc8000] <int> \n├─PWGTP45 = [204:0x36ea08000] <int> \n├─PWGTP46 = [205:0x36f748000] <int> \n├─PWGTP47 = [206:0x3786a8000] <int> \n├─PWGTP48 = [207:0x3793e8000] <int> \n├─PWGTP49 = [208:0x37a128000] <int> \n├─PWGTP50 = [209:0x37ae68000] <int> \n├─PWGTP51 = [210:0x37bba8000] <int> \n├─PWGTP52 = [211:0x3706a8000] <int> \n├─PWGTP53 = [212:0x335cc8000] <int> \n├─PWGTP54 = [213:0x336a08000] <int> \n├─PWGTP55 = [214:0x337748000] <int> \n├─PWGTP56 = [215:0x3806a8000] <int> \n├─PWGTP57 = [216:0x37c8e8000] <int> \n├─PWGTP58 = [217:0x37d628000] <int> \n├─PWGTP59 = [218:0x37e368000] <int> \n├─PWGTP60 = [219:0x37f0a8000] <int> \n├─PWGTP61 = [220:0x388008000] <int> \n├─PWGTP62 = [221:0x371a88000] <int> \n├─PWGTP63 = [222:0x3727c8000] <int> \n├─PWGTP64 = [223:0x373508000] <int> \n├─PWGTP65 = [224:0x374248000] <int> \n├─PWGTP66 = [225:0x374f88000] <int> \n├─PWGTP67 = [226:0x375cc8000] <int> \n├─PWGTP68 = [227:0x376a08000] <int> \n├─PWGTP69 = [228:0x377748000] <int> \n├─PWGTP70 = [229:0x3906a8000] <int> \n├─PWGTP71 = [230:0x3913e8000] <int> \n├─PWGTP72 = [231:0x392128000] <int> \n├─PWGTP73 = [232:0x392e68000] <int> \n├─PWGTP74 = [233:0x393ba8000] <int> \n├─PWGTP75 = [234:0x3948e8000] <int> \n├─PWGTP76 = [235:0x395628000] <int> \n├─PWGTP77 = [236:0x31b508000] <int> \n├─PWGTP78 = [237:0x396368000] <int> \n├─PWGTP79 = [238:0x3970a8000] <int> \n├─PWGTP80 = [239:0x398008000] <int> \n├─NOP = [240:0x398d48000] <fct> \n├─ADJINC = [241:0x34be00000] <dbl> \n├─CITWP = [242:0x34d880000] <chr> \n├─DEAR = [243:0x143c30000] <lgl> \n├─DRAT = [244:0x3886a8000] <fct> \n├─DRATX = [245:0x12dd80000] <lgl> \n├─HINS1 = [246:0x165628000] <lgl> \n├─HINS2 = [247:0x165cc8000] <lgl> \n├─HINS3 = [248:0x166368000] <lgl> \n├─HINS4 = [249:0x10ca68000] <lgl> \n├─HINS5 = [250:0x166a08000] <lgl> \n├─HINS6 = [251:0x1670a8000] <lgl> \n├─HINS7 = [252:0x167748000] <lgl> \n├─MARHD = [253:0x12e420000] <lgl> \n├─MARHM = [254:0x12eac0000] <lgl> \n├─MARHT = [255:0x3893e8000] <fct> \n├─MARHW = [256:0x12f160000] <lgl> \n├─MARHYP = [257:0x3a0000000] <chr> \n├─DIS = [258:0x12f800000] <lgl> \n├─HICOV = [259:0x170008000] <lgl> \n├─PRIVCOV = [260:0x1706a8000] <lgl> \n├─PUBCOV = [261:0x134f00000] <lgl> \n├─FCITWP = [262:0x170d48000] <lgl> \n├─FDEARP = [263:0x1713e8000] <lgl> \n├─FDRATP = [264:0x171a88000] <lgl> \n├─FDRATXP = [265:0x1586f0000] <lgl> \n├─FHINS1P = [266:0x1442d0000] <lgl> \n├─FHINS2P = [267:0x158d90000] <lgl> \n├─FHINS3P = [268:0x1355a0000] <lgl> \n├─FHINS4P = [269:0x135c40000] <lgl> \n├─FHINS5P = [270:0x172128000] <lgl> \n├─FHINS6P = [271:0x1727c8000] <lgl> \n├─FHINS7P = [272:0x172e68000] <lgl> \n├─FMARHDP = [273:0x173508000] <lgl> \n├─FMARHMP = [274:0x173ba8000] <lgl> \n├─FMARHTP = [275:0x174248000] <lgl> \n├─FMARHWP = [276:0x1748e8000] <lgl> \n├─FMARHYP = [277:0x1362e0000] <lgl> \n├─WRK = [278:0x136980000] <lgl> \n├─FOD1P = [279:0x3a1a80000] <chr> \n├─FOD2P = [280:0x3a3500000] <chr> \n├─SCIENGP = [281:0x159430000] <lgl> \n├─SCIENGRLP = [282:0x159ad0000] <lgl> \n├─FFODP = [283:0x15a170000] <lgl> \n├─FHINS3C = [284:0x38a128000] <fct> \n├─FHINS4C = [285:0x38ae68000] <fct> \n├─FHINS5C = [286:0x38bba8000] <fct> \n├─RELP = [287:0x3a4f80000] <chr> \n├─FWRKP = [288:0x178008000] <lgl> \n├─FDISP = [289:0x300008000] <lgl> \n├─FPERNP = [290:0x137020000] <lgl> \n├─FPINCP = [291:0x1376c0000] <lgl> \n├─FPRIVCOVP = [292:0x144970000] <lgl> \n├─FPUBCOVP = [293:0x145010000] <lgl> \n├─RACNH = [294:0x174f88000] <lgl> \n├─RACPI = [295:0x175628000] <lgl> \n├─SSPA = [296:0x38c8e8000] <fct> \n├─MLPCD = [297:0x175cc8000] <lgl> \n├─MLPFG = [298:0x15a810000] <lgl> \n├─FHICOVP = [299:0x15aeb0000] <lgl> \n├─DIVISION = [300:0x38d628000] <fct> \n├─REGION = [301:0x38e368000] <fct> \n├─HIMRKS = [302:0x38f0a8000] <fct> \n├─JWTRNS = [303:0x3a6a00000] <chr> \n├─RELSHIPP = [304:0x3a8480000] <chr> \n├─WKWN = [305:0x399a88000] <int> \n├─FHIMRKSP = [306:0x1786a8000] <lgl> \n├─FJWTRNSP = [307:0x10d108000] <lgl> \n├─FRELSHIPP = [308:0x176368000] <lgl> \n├─FWKWNP = [309:0x176a08000] <lgl> \n├─MLPIK = [310:0x10d7a8000] <lgl> \n├─year = [311:0x39a7c8000] <int> \n├─location = [312:0x3a9f00000] <chr> \n├─age_groups = [313:0x33a7c0000] <chr> \n├─ins_type = [314:0x3411c0000] <chr> \n└─age_decade = [315:0x3a4240000] <dbl> \n```\n\n\n:::\n:::\n\n:::\n\n::: {.column}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlobstr::ref(pums_nocopy)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n█ [1:0x106700400] <dt[,314]> \n├─SPORDER = [2:0x11e950000] <int> \n├─RT = [3:0x11f690000] <fct> \n├─SERIALNO = [4:0x13d100000] <chr> \n├─PUMA = [5:0x149000000] <chr> \n├─ST = [6:0x14aa80000] <chr> \n├─ADJUST = [7:0x3086a8000] <int> \n├─PWGTP = [8:0x3093e8000] <int> \n├─AGEP = [9:0x30a128000] <int> \n├─CIT = [10:0x30ae68000] <fct> \n├─COW = [11:0x10e250000] <fct> \n├─DDRS = [12:0x129b40000] <lgl> \n├─DEYE = [13:0x12a1e0000] <lgl> \n├─DOUT = [14:0x110040000] <lgl> \n├─DPHY = [15:0x1106e0000] <lgl> \n├─DREM = [16:0x110d80000] <lgl> \n├─DWRK = [17:0x111420000] <lgl> \n├─ENG = [18:0x10ef90000] <fct> \n├─FER = [19:0x1185f0000] <lgl> \n├─GCL = [20:0x118c90000] <lgl> \n├─GCM = [21:0x3006a8000] <fct> \n├─GCR = [22:0x130620000] <lgl> \n├─INTP = [23:0x3013e8000] <int> \n├─JWMNP = [24:0x302128000] <int> \n├─JWRIP = [25:0x1512bc000] <chr> \n├─JWTR = [26:0x152d3c000] <chr> \n├─LANX = [27:0x130cc0000] <lgl> \n├─MAR = [28:0x302e68000] <fct> \n├─MIG = [29:0x131360000] <lgl> \n├─MIL = [30:0x303ba8000] <fct> \n├─MILY = [31:0x3048e8000] <fct> \n├─MLPA = [32:0x131a00000] <lgl> \n├─MLPB = [33:0x119330000] <lgl> \n├─MLPC = [34:0x1199d0000] <lgl> \n├─MLPD = [35:0x12a880000] <lgl> \n├─MLPE = [36:0x12af20000] <lgl> \n├─MLPF = [37:0x12b5c0000] <lgl> \n├─MLPG = [38:0x12bc60000] <lgl> \n├─MLPH = [39:0x12c300000] <lgl> \n├─MLPI = [40:0x12c9a0000] <lgl> \n├─MLPJ = [41:0x12d040000] <lgl> \n├─MLPK = [42:0x111ac0000] <lgl> \n├─NWAB = [43:0x112160000] <lgl> \n├─NWAV = [44:0x305628000] <fct> \n├─NWLA = [45:0x1320a0000] <lgl> \n├─NWLK = [46:0x132740000] <lgl> \n├─NWRE = [47:0x108828000] <lgl> \n├─OIP = [48:0x306368000] <int> \n├─PAP = [49:0x3070a8000] <int> \n├─REL = [50:0x1547bc000] <chr> \n├─RETP = [51:0x30bba8000] <int> \n├─SCH = [52:0x140090000] <lgl> \n├─SCHG = [53:0x15623c000] <chr> \n├─SCHL = [54:0x168000000] <chr> \n├─SEMP = [55:0x310210000] <int> \n├─SEX = [56:0x30c8e8000] <fct> \n├─SSIP = [57:0x30d628000] <int> \n├─SSP = [58:0x30e368000] <int> \n├─WAGP = [59:0x30f0a8000] <int> \n├─WKHP = [60:0x310f50000] <int> \n├─WKL = [61:0x318008000] <fct> \n├─WKW = [62:0x318d48000] <fct> \n├─YOEP = [63:0x169a80000] <chr> \n├─UWRK = [64:0x112800000] <lgl> \n├─ANC = [65:0x328008000] <fct> \n├─ANC1P = [66:0x320d40000] <chr> \n├─ANC2P = [67:0x3227c0000] <chr> \n├─DECADE = [68:0x330008000] <fct> \n├─DRIVESP = [69:0x330d48000] <fct> \n├─DS = [70:0x112ea0000] <lgl> \n├─ESP = [71:0x331a88000] <fct> \n├─ESR = [72:0x3327c8000] <fct> \n├─HISP = [73:0x324240000] <chr> \n├─INDP = [74:0x325cc0000] <chr> \n├─JWAP = [75:0x338000000] <chr> \n├─JWDP = [76:0x339a80000] <chr> \n├─LANP = [77:0x33b500000] <chr> \n├─MIGPUMA = [78:0x319a88000] <fct> \n├─MIGSP = [79:0x33cf80000] <chr> \n├─MSP = [80:0x328d48000] <fct> \n├─NAICSP = [81:0x33ea00000] <chr> \n├─NATIVITY = [82:0x31a7c8000] <fct> \n├─OC = [83:0x160008000] <lgl> \n├─OCCP = [84:0x340480000] <chr> \n├─PAOC = [85:0x311c90000] <fct> \n├─PERNP = [86:0x3129d0000] <int> \n├─PINCP = [87:0x313710000] <int> \n├─POBP = [88:0x341f00000] <chr> \n├─POVPIP = [89:0x314450000] <int> \n├─POWPUMA = [90:0x315190000] <fct> \n├─POWSP = [91:0x343980000] <chr> \n├─QTRBIR = [92:0x329a88000] <fct> \n├─RAC1P = [93:0x32a7c8000] <fct> \n├─RAC2P = [94:0x345400000] <chr> \n├─RAC3P = [95:0x346e80000] <chr> \n├─RACAIAN = [96:0x1606a8000] <lgl> \n├─RACASN = [97:0x160d48000] <lgl> \n├─RACBLK = [98:0x1613e8000] <lgl> \n├─RACNHPI = [99:0x161a88000] <lgl> \n├─RACNUM = [100:0x333508000] <int> \n├─RACSOR = [101:0x132de0000] <lgl> \n├─RACWHT = [102:0x140730000] <lgl> \n├─RC = [103:0x140dd0000] <lgl> \n├─SFN = [104:0x334248000] <fct> \n├─SFR = [105:0x334f88000] <fct> \n├─SOCP = [106:0x348900000] <chr> \n├─VPS = [107:0x34a380000] <chr> \n├─WAOB = [108:0x32b508000] <fct> \n├─FAGEP = [109:0x141470000] <lgl> \n├─FANCP = [110:0x141b10000] <lgl> \n├─FCITP = [111:0x1421b0000] <lgl> \n├─FCOWP = [112:0x142850000] <lgl> \n├─FDDRSP = [113:0x108ec8000] <lgl> \n├─FDEYEP = [114:0x133480000] <lgl> \n├─FDOUTP = [115:0x11a070000] <lgl> \n├─FDPHYP = [116:0x133b20000] <lgl> \n├─FDREMP = [117:0x1341c0000] <lgl> \n├─FDWRKP = [118:0x134860000] <lgl> \n├─FENGP = [119:0x11a710000] <lgl> \n├─FESRP = [120:0x11adb0000] <lgl> \n├─FFERP = [121:0x11b450000] <lgl> \n├─FGCLP = [122:0x11baf0000] <lgl> \n├─FGCMP = [123:0x11c190000] <lgl> \n├─FGCRP = [124:0x113540000] <lgl> \n├─FHISP = [125:0x113be0000] <lgl> \n├─FINDP = [126:0x114280000] <lgl> \n├─FINTP = [127:0x114920000] <lgl> \n├─FJWDP = [128:0x109568000] <lgl> \n├─FJWMNP = [129:0x114fc0000] <lgl> \n├─FJWRIP = [130:0x115660000] <lgl> \n├─FJWTRP = [131:0x115d00000] <lgl> \n├─FLANP = [132:0x158050000] <lgl> \n├─FLANXP = [133:0x11c830000] <lgl> \n├─FMARP = [134:0x142ef0000] <lgl> \n├─FMIGP = [135:0x1163a0000] <lgl> \n├─FMIGSP = [136:0x116a40000] <lgl> \n├─FMILPP = [137:0x1170e0000] <lgl> \n├─FMILSP = [138:0x117780000] <lgl> \n├─FMILYP = [139:0x12d6e0000] <lgl> \n├─FOCCP = [140:0x11ced0000] <lgl> \n├─FOIP = [141:0x11d570000] <lgl> \n├─FPAP = [142:0x143590000] <lgl> \n├─FPOBP = [143:0x11dc10000] <lgl> \n├─FPOWSP = [144:0x11e2b0000] <lgl> \n├─FRACP = [145:0x109c08000] <lgl> \n├─FRELP = [146:0x10a2a8000] <lgl> \n├─FRETP = [147:0x10a948000] <lgl> \n├─FSCHGP = [148:0x10afe8000] <lgl> \n├─FSCHLP = [149:0x10b688000] <lgl> \n├─FSCHP = [150:0x10bd28000] <lgl> \n├─FSEMP = [151:0x10c3c8000] <lgl> \n├─FSEXP = [152:0x162128000] <lgl> \n├─FSSIP = [153:0x1627c8000] <lgl> \n├─FSSP = [154:0x162e68000] <lgl> \n├─FWAGP = [155:0x163508000] <lgl> \n├─FWKHP = [156:0x163ba8000] <lgl> \n├─FWKLP = [157:0x164248000] <lgl> \n├─FWKWP = [158:0x1648e8000] <lgl> \n├─FYOEP = [159:0x164f88000] <lgl> \n├─PWGTP1 = [160:0x32c248000] <int> \n├─PWGTP2 = [161:0x32cf88000] <int> \n├─PWGTP3 = [162:0x32dcc8000] <int> \n├─PWGTP4 = [163:0x315ed0000] <int> \n├─PWGTP5 = [164:0x316c10000] <int> \n├─PWGTP6 = [165:0x317950000] <int> \n├─PWGTP7 = [166:0x3506a8000] <int> \n├─PWGTP8 = [167:0x3513e8000] <int> \n├─PWGTP9 = [168:0x352128000] <int> \n├─PWGTP10 = [169:0x352e68000] <int> \n├─PWGTP11 = [170:0x353ba8000] <int> \n├─PWGTP12 = [171:0x3548e8000] <int> \n├─PWGTP13 = [172:0x355628000] <int> \n├─PWGTP14 = [173:0x356368000] <int> \n├─PWGTP15 = [174:0x3570a8000] <int> \n├─PWGTP16 = [175:0x358008000] <int> \n├─PWGTP17 = [176:0x358d48000] <int> \n├─PWGTP18 = [177:0x359a88000] <int> \n├─PWGTP19 = [178:0x32ea08000] <int> \n├─PWGTP20 = [179:0x32f748000] <int> \n├─PWGTP21 = [180:0x3606a8000] <int> \n├─PWGTP22 = [181:0x3613e8000] <int> \n├─PWGTP23 = [182:0x362128000] <int> \n├─PWGTP24 = [183:0x362e68000] <int> \n├─PWGTP25 = [184:0x363ba8000] <int> \n├─PWGTP26 = [185:0x3648e8000] <int> \n├─PWGTP27 = [186:0x365628000] <int> \n├─PWGTP28 = [187:0x366368000] <int> \n├─PWGTP29 = [188:0x3670a8000] <int> \n├─PWGTP30 = [189:0x368008000] <int> \n├─PWGTP31 = [190:0x368d48000] <int> \n├─PWGTP32 = [191:0x369a88000] <int> \n├─PWGTP33 = [192:0x36a7c8000] <int> \n├─PWGTP34 = [193:0x36b508000] <int> \n├─PWGTP35 = [194:0x35a7c8000] <int> \n├─PWGTP36 = [195:0x35b508000] <int> \n├─PWGTP37 = [196:0x35c248000] <int> \n├─PWGTP38 = [197:0x35cf88000] <int> \n├─PWGTP39 = [198:0x35dcc8000] <int> \n├─PWGTP40 = [199:0x35ea08000] <int> \n├─PWGTP41 = [200:0x35f748000] <int> \n├─PWGTP42 = [201:0x36c248000] <int> \n├─PWGTP43 = [202:0x36cf88000] <int> \n├─PWGTP44 = [203:0x36dcc8000] <int> \n├─PWGTP45 = [204:0x36ea08000] <int> \n├─PWGTP46 = [205:0x36f748000] <int> \n├─PWGTP47 = [206:0x3786a8000] <int> \n├─PWGTP48 = [207:0x3793e8000] <int> \n├─PWGTP49 = [208:0x37a128000] <int> \n├─PWGTP50 = [209:0x37ae68000] <int> \n├─PWGTP51 = [210:0x37bba8000] <int> \n├─PWGTP52 = [211:0x3706a8000] <int> \n├─PWGTP53 = [212:0x335cc8000] <int> \n├─PWGTP54 = [213:0x336a08000] <int> \n├─PWGTP55 = [214:0x337748000] <int> \n├─PWGTP56 = [215:0x3806a8000] <int> \n├─PWGTP57 = [216:0x37c8e8000] <int> \n├─PWGTP58 = [217:0x37d628000] <int> \n├─PWGTP59 = [218:0x37e368000] <int> \n├─PWGTP60 = [219:0x37f0a8000] <int> \n├─PWGTP61 = [220:0x388008000] <int> \n├─PWGTP62 = [221:0x371a88000] <int> \n├─PWGTP63 = [222:0x3727c8000] <int> \n├─PWGTP64 = [223:0x373508000] <int> \n├─PWGTP65 = [224:0x374248000] <int> \n├─PWGTP66 = [225:0x374f88000] <int> \n├─PWGTP67 = [226:0x375cc8000] <int> \n├─PWGTP68 = [227:0x376a08000] <int> \n├─PWGTP69 = [228:0x377748000] <int> \n├─PWGTP70 = [229:0x3906a8000] <int> \n├─PWGTP71 = [230:0x3913e8000] <int> \n├─PWGTP72 = [231:0x392128000] <int> \n├─PWGTP73 = [232:0x392e68000] <int> \n├─PWGTP74 = [233:0x393ba8000] <int> \n├─PWGTP75 = [234:0x3948e8000] <int> \n├─PWGTP76 = [235:0x395628000] <int> \n├─PWGTP77 = [236:0x31b508000] <int> \n├─PWGTP78 = [237:0x396368000] <int> \n├─PWGTP79 = [238:0x3970a8000] <int> \n├─PWGTP80 = [239:0x398008000] <int> \n├─NOP = [240:0x398d48000] <fct> \n├─ADJINC = [241:0x34be00000] <dbl> \n├─CITWP = [242:0x34d880000] <chr> \n├─DEAR = [243:0x143c30000] <lgl> \n├─DRAT = [244:0x3886a8000] <fct> \n├─DRATX = [245:0x12dd80000] <lgl> \n├─HINS1 = [246:0x165628000] <lgl> \n├─HINS2 = [247:0x165cc8000] <lgl> \n├─HINS3 = [248:0x166368000] <lgl> \n├─HINS4 = [249:0x10ca68000] <lgl> \n├─HINS5 = [250:0x166a08000] <lgl> \n├─HINS6 = [251:0x1670a8000] <lgl> \n├─HINS7 = [252:0x167748000] <lgl> \n├─MARHD = [253:0x12e420000] <lgl> \n├─MARHM = [254:0x12eac0000] <lgl> \n├─MARHT = [255:0x3893e8000] <fct> \n├─MARHW = [256:0x12f160000] <lgl> \n├─MARHYP = [257:0x3a0000000] <chr> \n├─DIS = [258:0x12f800000] <lgl> \n├─HICOV = [259:0x170008000] <lgl> \n├─PRIVCOV = [260:0x1706a8000] <lgl> \n├─PUBCOV = [261:0x134f00000] <lgl> \n├─FCITWP = [262:0x170d48000] <lgl> \n├─FDEARP = [263:0x1713e8000] <lgl> \n├─FDRATP = [264:0x171a88000] <lgl> \n├─FDRATXP = [265:0x1586f0000] <lgl> \n├─FHINS1P = [266:0x1442d0000] <lgl> \n├─FHINS2P = [267:0x158d90000] <lgl> \n├─FHINS3P = [268:0x1355a0000] <lgl> \n├─FHINS4P = [269:0x135c40000] <lgl> \n├─FHINS5P = [270:0x172128000] <lgl> \n├─FHINS6P = [271:0x1727c8000] <lgl> \n├─FHINS7P = [272:0x172e68000] <lgl> \n├─FMARHDP = [273:0x173508000] <lgl> \n├─FMARHMP = [274:0x173ba8000] <lgl> \n├─FMARHTP = [275:0x174248000] <lgl> \n├─FMARHWP = [276:0x1748e8000] <lgl> \n├─FMARHYP = [277:0x1362e0000] <lgl> \n├─WRK = [278:0x136980000] <lgl> \n├─FOD1P = [279:0x3a1a80000] <chr> \n├─FOD2P = [280:0x3a3500000] <chr> \n├─SCIENGP = [281:0x159430000] <lgl> \n├─SCIENGRLP = [282:0x159ad0000] <lgl> \n├─FFODP = [283:0x15a170000] <lgl> \n├─FHINS3C = [284:0x38a128000] <fct> \n├─FHINS4C = [285:0x38ae68000] <fct> \n├─FHINS5C = [286:0x38bba8000] <fct> \n├─RELP = [287:0x3a4f80000] <chr> \n├─FWRKP = [288:0x178008000] <lgl> \n├─FDISP = [289:0x300008000] <lgl> \n├─FPERNP = [290:0x137020000] <lgl> \n├─FPINCP = [291:0x1376c0000] <lgl> \n├─FPRIVCOVP = [292:0x144970000] <lgl> \n├─FPUBCOVP = [293:0x145010000] <lgl> \n├─RACNH = [294:0x174f88000] <lgl> \n├─RACPI = [295:0x175628000] <lgl> \n├─SSPA = [296:0x38c8e8000] <fct> \n├─MLPCD = [297:0x175cc8000] <lgl> \n├─MLPFG = [298:0x15a810000] <lgl> \n├─FHICOVP = [299:0x15aeb0000] <lgl> \n├─DIVISION = [300:0x38d628000] <fct> \n├─REGION = [301:0x38e368000] <fct> \n├─HIMRKS = [302:0x38f0a8000] <fct> \n├─JWTRNS = [303:0x3a6a00000] <chr> \n├─RELSHIPP = [304:0x3a8480000] <chr> \n├─WKWN = [305:0x399a88000] <int> \n├─FHIMRKSP = [306:0x1786a8000] <lgl> \n├─FJWTRNSP = [307:0x10d108000] <lgl> \n├─FRELSHIPP = [308:0x176368000] <lgl> \n├─FWKWNP = [309:0x176a08000] <lgl> \n├─MLPIK = [310:0x10d7a8000] <lgl> \n├─year = [311:0x39a7c8000] <int> \n├─location = [312:0x3a9f00000] <chr> \n├─age_groups = [313:0x33a7c0000] <chr> \n├─ins_type = [314:0x3411c0000] <chr> \n└─age_decade = [315:0x3a4240000] <dbl> \n```\n\n\n:::\n:::\n\n:::\n::::\n\n\n## 3. Memory Efficient\n\n\n**Modify by reference - no copies**\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Deep Copy (full dataset copied)\npums_copy <- copy(pums)\n\n# adding variable to this does not alter the original\npums_copy[, age_decade := floor(AGEP / 10) * 10]\n```\n:::\n\n\n. . .\n\n:::: columns\n::: {.column}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlobstr::ref(pums)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n█ [1:0x106700400] <dt[,314]> \n├─SPORDER = [2:0x11e950000] <int> \n├─RT = [3:0x11f690000] <fct> \n├─SERIALNO = [4:0x13d100000] <chr> \n├─PUMA = [5:0x149000000] <chr> \n├─ST = [6:0x14aa80000] <chr> \n├─ADJUST = [7:0x3086a8000] <int> \n├─PWGTP = [8:0x3093e8000] <int> \n├─AGEP = [9:0x30a128000] <int> \n├─CIT = [10:0x30ae68000] <fct> \n├─COW = [11:0x10e250000] <fct> \n├─DDRS = [12:0x129b40000] <lgl> \n├─DEYE = [13:0x12a1e0000] <lgl> \n├─DOUT = [14:0x110040000] <lgl> \n├─DPHY = [15:0x1106e0000] <lgl> \n├─DREM = [16:0x110d80000] <lgl> \n├─DWRK = [17:0x111420000] <lgl> \n├─ENG = [18:0x10ef90000] <fct> \n├─FER = [19:0x1185f0000] <lgl> \n├─GCL = [20:0x118c90000] <lgl> \n├─GCM = [21:0x3006a8000] <fct> \n├─GCR = [22:0x130620000] <lgl> \n├─INTP = [23:0x3013e8000] <int> \n├─JWMNP = [24:0x302128000] <int> \n├─JWRIP = [25:0x1512bc000] <chr> \n├─JWTR = [26:0x152d3c000] <chr> \n├─LANX = [27:0x130cc0000] <lgl> \n├─MAR = [28:0x302e68000] <fct> \n├─MIG = [29:0x131360000] <lgl> \n├─MIL = [30:0x303ba8000] <fct> \n├─MILY = [31:0x3048e8000] <fct> \n├─MLPA = [32:0x131a00000] <lgl> \n├─MLPB = [33:0x119330000] <lgl> \n├─MLPC = [34:0x1199d0000] <lgl> \n├─MLPD = [35:0x12a880000] <lgl> \n├─MLPE = [36:0x12af20000] <lgl> \n├─MLPF = [37:0x12b5c0000] <lgl> \n├─MLPG = [38:0x12bc60000] <lgl> \n├─MLPH = [39:0x12c300000] <lgl> \n├─MLPI = [40:0x12c9a0000] <lgl> \n├─MLPJ = [41:0x12d040000] <lgl> \n├─MLPK = [42:0x111ac0000] <lgl> \n├─NWAB = [43:0x112160000] <lgl> \n├─NWAV = [44:0x305628000] <fct> \n├─NWLA = [45:0x1320a0000] <lgl> \n├─NWLK = [46:0x132740000] <lgl> \n├─NWRE = [47:0x108828000] <lgl> \n├─OIP = [48:0x306368000] <int> \n├─PAP = [49:0x3070a8000] <int> \n├─REL = [50:0x1547bc000] <chr> \n├─RETP = [51:0x30bba8000] <int> \n├─SCH = [52:0x140090000] <lgl> \n├─SCHG = [53:0x15623c000] <chr> \n├─SCHL = [54:0x168000000] <chr> \n├─SEMP = [55:0x310210000] <int> \n├─SEX = [56:0x30c8e8000] <fct> \n├─SSIP = [57:0x30d628000] <int> \n├─SSP = [58:0x30e368000] <int> \n├─WAGP = [59:0x30f0a8000] <int> \n├─WKHP = [60:0x310f50000] <int> \n├─WKL = [61:0x318008000] <fct> \n├─WKW = [62:0x318d48000] <fct> \n├─YOEP = [63:0x169a80000] <chr> \n├─UWRK = [64:0x112800000] <lgl> \n├─ANC = [65:0x328008000] <fct> \n├─ANC1P = [66:0x320d40000] <chr> \n├─ANC2P = [67:0x3227c0000] <chr> \n├─DECADE = [68:0x330008000] <fct> \n├─DRIVESP = [69:0x330d48000] <fct> \n├─DS = [70:0x112ea0000] <lgl> \n├─ESP = [71:0x331a88000] <fct> \n├─ESR = [72:0x3327c8000] <fct> \n├─HISP = [73:0x324240000] <chr> \n├─INDP = [74:0x325cc0000] <chr> \n├─JWAP = [75:0x338000000] <chr> \n├─JWDP = [76:0x339a80000] <chr> \n├─LANP = [77:0x33b500000] <chr> \n├─MIGPUMA = [78:0x319a88000] <fct> \n├─MIGSP = [79:0x33cf80000] <chr> \n├─MSP = [80:0x328d48000] <fct> \n├─NAICSP = [81:0x33ea00000] <chr> \n├─NATIVITY = [82:0x31a7c8000] <fct> \n├─OC = [83:0x160008000] <lgl> \n├─OCCP = [84:0x340480000] <chr> \n├─PAOC = [85:0x311c90000] <fct> \n├─PERNP = [86:0x3129d0000] <int> \n├─PINCP = [87:0x313710000] <int> \n├─POBP = [88:0x341f00000] <chr> \n├─POVPIP = [89:0x314450000] <int> \n├─POWPUMA = [90:0x315190000] <fct> \n├─POWSP = [91:0x343980000] <chr> \n├─QTRBIR = [92:0x329a88000] <fct> \n├─RAC1P = [93:0x32a7c8000] <fct> \n├─RAC2P = [94:0x345400000] <chr> \n├─RAC3P = [95:0x346e80000] <chr> \n├─RACAIAN = [96:0x1606a8000] <lgl> \n├─RACASN = [97:0x160d48000] <lgl> \n├─RACBLK = [98:0x1613e8000] <lgl> \n├─RACNHPI = [99:0x161a88000] <lgl> \n├─RACNUM = [100:0x333508000] <int> \n├─RACSOR = [101:0x132de0000] <lgl> \n├─RACWHT = [102:0x140730000] <lgl> \n├─RC = [103:0x140dd0000] <lgl> \n├─SFN = [104:0x334248000] <fct> \n├─SFR = [105:0x334f88000] <fct> \n├─SOCP = [106:0x348900000] <chr> \n├─VPS = [107:0x34a380000] <chr> \n├─WAOB = [108:0x32b508000] <fct> \n├─FAGEP = [109:0x141470000] <lgl> \n├─FANCP = [110:0x141b10000] <lgl> \n├─FCITP = [111:0x1421b0000] <lgl> \n├─FCOWP = [112:0x142850000] <lgl> \n├─FDDRSP = [113:0x108ec8000] <lgl> \n├─FDEYEP = [114:0x133480000] <lgl> \n├─FDOUTP = [115:0x11a070000] <lgl> \n├─FDPHYP = [116:0x133b20000] <lgl> \n├─FDREMP = [117:0x1341c0000] <lgl> \n├─FDWRKP = [118:0x134860000] <lgl> \n├─FENGP = [119:0x11a710000] <lgl> \n├─FESRP = [120:0x11adb0000] <lgl> \n├─FFERP = [121:0x11b450000] <lgl> \n├─FGCLP = [122:0x11baf0000] <lgl> \n├─FGCMP = [123:0x11c190000] <lgl> \n├─FGCRP = [124:0x113540000] <lgl> \n├─FHISP = [125:0x113be0000] <lgl> \n├─FINDP = [126:0x114280000] <lgl> \n├─FINTP = [127:0x114920000] <lgl> \n├─FJWDP = [128:0x109568000] <lgl> \n├─FJWMNP = [129:0x114fc0000] <lgl> \n├─FJWRIP = [130:0x115660000] <lgl> \n├─FJWTRP = [131:0x115d00000] <lgl> \n├─FLANP = [132:0x158050000] <lgl> \n├─FLANXP = [133:0x11c830000] <lgl> \n├─FMARP = [134:0x142ef0000] <lgl> \n├─FMIGP = [135:0x1163a0000] <lgl> \n├─FMIGSP = [136:0x116a40000] <lgl> \n├─FMILPP = [137:0x1170e0000] <lgl> \n├─FMILSP = [138:0x117780000] <lgl> \n├─FMILYP = [139:0x12d6e0000] <lgl> \n├─FOCCP = [140:0x11ced0000] <lgl> \n├─FOIP = [141:0x11d570000] <lgl> \n├─FPAP = [142:0x143590000] <lgl> \n├─FPOBP = [143:0x11dc10000] <lgl> \n├─FPOWSP = [144:0x11e2b0000] <lgl> \n├─FRACP = [145:0x109c08000] <lgl> \n├─FRELP = [146:0x10a2a8000] <lgl> \n├─FRETP = [147:0x10a948000] <lgl> \n├─FSCHGP = [148:0x10afe8000] <lgl> \n├─FSCHLP = [149:0x10b688000] <lgl> \n├─FSCHP = [150:0x10bd28000] <lgl> \n├─FSEMP = [151:0x10c3c8000] <lgl> \n├─FSEXP = [152:0x162128000] <lgl> \n├─FSSIP = [153:0x1627c8000] <lgl> \n├─FSSP = [154:0x162e68000] <lgl> \n├─FWAGP = [155:0x163508000] <lgl> \n├─FWKHP = [156:0x163ba8000] <lgl> \n├─FWKLP = [157:0x164248000] <lgl> \n├─FWKWP = [158:0x1648e8000] <lgl> \n├─FYOEP = [159:0x164f88000] <lgl> \n├─PWGTP1 = [160:0x32c248000] <int> \n├─PWGTP2 = [161:0x32cf88000] <int> \n├─PWGTP3 = [162:0x32dcc8000] <int> \n├─PWGTP4 = [163:0x315ed0000] <int> \n├─PWGTP5 = [164:0x316c10000] <int> \n├─PWGTP6 = [165:0x317950000] <int> \n├─PWGTP7 = [166:0x3506a8000] <int> \n├─PWGTP8 = [167:0x3513e8000] <int> \n├─PWGTP9 = [168:0x352128000] <int> \n├─PWGTP10 = [169:0x352e68000] <int> \n├─PWGTP11 = [170:0x353ba8000] <int> \n├─PWGTP12 = [171:0x3548e8000] <int> \n├─PWGTP13 = [172:0x355628000] <int> \n├─PWGTP14 = [173:0x356368000] <int> \n├─PWGTP15 = [174:0x3570a8000] <int> \n├─PWGTP16 = [175:0x358008000] <int> \n├─PWGTP17 = [176:0x358d48000] <int> \n├─PWGTP18 = [177:0x359a88000] <int> \n├─PWGTP19 = [178:0x32ea08000] <int> \n├─PWGTP20 = [179:0x32f748000] <int> \n├─PWGTP21 = [180:0x3606a8000] <int> \n├─PWGTP22 = [181:0x3613e8000] <int> \n├─PWGTP23 = [182:0x362128000] <int> \n├─PWGTP24 = [183:0x362e68000] <int> \n├─PWGTP25 = [184:0x363ba8000] <int> \n├─PWGTP26 = [185:0x3648e8000] <int> \n├─PWGTP27 = [186:0x365628000] <int> \n├─PWGTP28 = [187:0x366368000] <int> \n├─PWGTP29 = [188:0x3670a8000] <int> \n├─PWGTP30 = [189:0x368008000] <int> \n├─PWGTP31 = [190:0x368d48000] <int> \n├─PWGTP32 = [191:0x369a88000] <int> \n├─PWGTP33 = [192:0x36a7c8000] <int> \n├─PWGTP34 = [193:0x36b508000] <int> \n├─PWGTP35 = [194:0x35a7c8000] <int> \n├─PWGTP36 = [195:0x35b508000] <int> \n├─PWGTP37 = [196:0x35c248000] <int> \n├─PWGTP38 = [197:0x35cf88000] <int> \n├─PWGTP39 = [198:0x35dcc8000] <int> \n├─PWGTP40 = [199:0x35ea08000] <int> \n├─PWGTP41 = [200:0x35f748000] <int> \n├─PWGTP42 = [201:0x36c248000] <int> \n├─PWGTP43 = [202:0x36cf88000] <int> \n├─PWGTP44 = [203:0x36dcc8000] <int> \n├─PWGTP45 = [204:0x36ea08000] <int> \n├─PWGTP46 = [205:0x36f748000] <int> \n├─PWGTP47 = [206:0x3786a8000] <int> \n├─PWGTP48 = [207:0x3793e8000] <int> \n├─PWGTP49 = [208:0x37a128000] <int> \n├─PWGTP50 = [209:0x37ae68000] <int> \n├─PWGTP51 = [210:0x37bba8000] <int> \n├─PWGTP52 = [211:0x3706a8000] <int> \n├─PWGTP53 = [212:0x335cc8000] <int> \n├─PWGTP54 = [213:0x336a08000] <int> \n├─PWGTP55 = [214:0x337748000] <int> \n├─PWGTP56 = [215:0x3806a8000] <int> \n├─PWGTP57 = [216:0x37c8e8000] <int> \n├─PWGTP58 = [217:0x37d628000] <int> \n├─PWGTP59 = [218:0x37e368000] <int> \n├─PWGTP60 = [219:0x37f0a8000] <int> \n├─PWGTP61 = [220:0x388008000] <int> \n├─PWGTP62 = [221:0x371a88000] <int> \n├─PWGTP63 = [222:0x3727c8000] <int> \n├─PWGTP64 = [223:0x373508000] <int> \n├─PWGTP65 = [224:0x374248000] <int> \n├─PWGTP66 = [225:0x374f88000] <int> \n├─PWGTP67 = [226:0x375cc8000] <int> \n├─PWGTP68 = [227:0x376a08000] <int> \n├─PWGTP69 = [228:0x377748000] <int> \n├─PWGTP70 = [229:0x3906a8000] <int> \n├─PWGTP71 = [230:0x3913e8000] <int> \n├─PWGTP72 = [231:0x392128000] <int> \n├─PWGTP73 = [232:0x392e68000] <int> \n├─PWGTP74 = [233:0x393ba8000] <int> \n├─PWGTP75 = [234:0x3948e8000] <int> \n├─PWGTP76 = [235:0x395628000] <int> \n├─PWGTP77 = [236:0x31b508000] <int> \n├─PWGTP78 = [237:0x396368000] <int> \n├─PWGTP79 = [238:0x3970a8000] <int> \n├─PWGTP80 = [239:0x398008000] <int> \n├─NOP = [240:0x398d48000] <fct> \n├─ADJINC = [241:0x34be00000] <dbl> \n├─CITWP = [242:0x34d880000] <chr> \n├─DEAR = [243:0x143c30000] <lgl> \n├─DRAT = [244:0x3886a8000] <fct> \n├─DRATX = [245:0x12dd80000] <lgl> \n├─HINS1 = [246:0x165628000] <lgl> \n├─HINS2 = [247:0x165cc8000] <lgl> \n├─HINS3 = [248:0x166368000] <lgl> \n├─HINS4 = [249:0x10ca68000] <lgl> \n├─HINS5 = [250:0x166a08000] <lgl> \n├─HINS6 = [251:0x1670a8000] <lgl> \n├─HINS7 = [252:0x167748000] <lgl> \n├─MARHD = [253:0x12e420000] <lgl> \n├─MARHM = [254:0x12eac0000] <lgl> \n├─MARHT = [255:0x3893e8000] <fct> \n├─MARHW = [256:0x12f160000] <lgl> \n├─MARHYP = [257:0x3a0000000] <chr> \n├─DIS = [258:0x12f800000] <lgl> \n├─HICOV = [259:0x170008000] <lgl> \n├─PRIVCOV = [260:0x1706a8000] <lgl> \n├─PUBCOV = [261:0x134f00000] <lgl> \n├─FCITWP = [262:0x170d48000] <lgl> \n├─FDEARP = [263:0x1713e8000] <lgl> \n├─FDRATP = [264:0x171a88000] <lgl> \n├─FDRATXP = [265:0x1586f0000] <lgl> \n├─FHINS1P = [266:0x1442d0000] <lgl> \n├─FHINS2P = [267:0x158d90000] <lgl> \n├─FHINS3P = [268:0x1355a0000] <lgl> \n├─FHINS4P = [269:0x135c40000] <lgl> \n├─FHINS5P = [270:0x172128000] <lgl> \n├─FHINS6P = [271:0x1727c8000] <lgl> \n├─FHINS7P = [272:0x172e68000] <lgl> \n├─FMARHDP = [273:0x173508000] <lgl> \n├─FMARHMP = [274:0x173ba8000] <lgl> \n├─FMARHTP = [275:0x174248000] <lgl> \n├─FMARHWP = [276:0x1748e8000] <lgl> \n├─FMARHYP = [277:0x1362e0000] <lgl> \n├─WRK = [278:0x136980000] <lgl> \n├─FOD1P = [279:0x3a1a80000] <chr> \n├─FOD2P = [280:0x3a3500000] <chr> \n├─SCIENGP = [281:0x159430000] <lgl> \n├─SCIENGRLP = [282:0x159ad0000] <lgl> \n├─FFODP = [283:0x15a170000] <lgl> \n├─FHINS3C = [284:0x38a128000] <fct> \n├─FHINS4C = [285:0x38ae68000] <fct> \n├─FHINS5C = [286:0x38bba8000] <fct> \n├─RELP = [287:0x3a4f80000] <chr> \n├─FWRKP = [288:0x178008000] <lgl> \n├─FDISP = [289:0x300008000] <lgl> \n├─FPERNP = [290:0x137020000] <lgl> \n├─FPINCP = [291:0x1376c0000] <lgl> \n├─FPRIVCOVP = [292:0x144970000] <lgl> \n├─FPUBCOVP = [293:0x145010000] <lgl> \n├─RACNH = [294:0x174f88000] <lgl> \n├─RACPI = [295:0x175628000] <lgl> \n├─SSPA = [296:0x38c8e8000] <fct> \n├─MLPCD = [297:0x175cc8000] <lgl> \n├─MLPFG = [298:0x15a810000] <lgl> \n├─FHICOVP = [299:0x15aeb0000] <lgl> \n├─DIVISION = [300:0x38d628000] <fct> \n├─REGION = [301:0x38e368000] <fct> \n├─HIMRKS = [302:0x38f0a8000] <fct> \n├─JWTRNS = [303:0x3a6a00000] <chr> \n├─RELSHIPP = [304:0x3a8480000] <chr> \n├─WKWN = [305:0x399a88000] <int> \n├─FHIMRKSP = [306:0x1786a8000] <lgl> \n├─FJWTRNSP = [307:0x10d108000] <lgl> \n├─FRELSHIPP = [308:0x176368000] <lgl> \n├─FWKWNP = [309:0x176a08000] <lgl> \n├─MLPIK = [310:0x10d7a8000] <lgl> \n├─year = [311:0x39a7c8000] <int> \n├─location = [312:0x3a9f00000] <chr> \n├─age_groups = [313:0x33a7c0000] <chr> \n├─ins_type = [314:0x3411c0000] <chr> \n└─age_decade = [315:0x3a4240000] <dbl> \n```\n\n\n:::\n:::\n\n:::\n\n::: {.column}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlobstr::ref(pums_copy)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n█ [1:0x3af910400] <dt[,314]> \n├─SPORDER = [2:0x30ea08000] <int> \n├─RT = [3:0x441f78000] <fct> \n├─SERIALNO = [4:0x3d69fc000] <chr> \n├─PUMA = [5:0x3a5cc0000] <chr> \n├─ST = [6:0x3446c0000] <chr> \n├─ADJUST = [7:0x405368000] <int> \n├─PWGTP = [8:0x45f8a8000] <int> \n├─AGEP = [9:0x459ce8000] <int> \n├─CIT = [10:0x45b028000] <fct> \n├─COW = [11:0x45d3a8000] <fct> \n├─DDRS = [12:0x45b9c8000] <lgl> \n├─DEYE = [13:0x45c068000] <lgl> \n├─DOUT = [14:0x45a688000] <lgl> \n├─DPHY = [15:0x45dd48000] <lgl> \n├─DREM = [16:0x45e3e8000] <lgl> \n├─DWRK = [17:0x403ea8000] <lgl> \n├─ENG = [18:0x400b28000] <fct> \n├─FER = [19:0x45ef08000] <lgl> \n├─GCL = [20:0x404848000] <lgl> \n├─GCM = [21:0x442618000] <fct> \n├─GCR = [22:0x40b548000] <lgl> \n├─INTP = [23:0x4159a8000] <int> \n├─JWMNP = [24:0x40bd68000] <int> \n├─JWRIP = [25:0x342c40000] <chr> \n├─JWTR = [26:0x346140000] <chr> \n├─LANX = [27:0x416ce8000] <lgl> \n├─MAR = [28:0x40e3e8000] <fct> \n├─MIG = [29:0x413e48000] <lgl> \n├─MIL = [30:0x420008000] <fct> \n├─MILY = [31:0x411fe8000] <fct> \n├─MLPA = [32:0x422ea8000] <lgl> \n├─MLPB = [33:0x42eb68000] <lgl> \n├─MLPC = [34:0x450008000] <lgl> \n├─MLPD = [35:0x4559a8000] <lgl> \n├─MLPE = [36:0x40f5a8000] <lgl> \n├─MLPF = [37:0x3fd588000] <lgl> \n├─MLPG = [38:0x417808000] <lgl> \n├─MLPH = [39:0x4561c8000] <lgl> \n├─MLPI = [40:0x4539c8000] <lgl> \n├─MLPJ = [41:0x4609a8000] <lgl> \n├─MLPK = [42:0x4544e8000] <lgl> \n├─NWAB = [43:0x461e68000] <lgl> \n├─NWAV = [44:0x4614c8000] <fct> \n├─NWLA = [45:0x457508000] <lgl> \n├─NWLK = [46:0x456b68000] <lgl> \n├─NWRE = [47:0x455008000] <lgl> \n├─OIP = [48:0x452ea8000] <int> \n├─PAP = [49:0x452508000] <int> \n├─REL = [50:0x347bc0000] <chr> \n├─RETP = [51:0x442cb8000] <int> \n├─SCH = [52:0x3e3ba8000] <lgl> \n├─SCHG = [53:0x349640000] <chr> \n├─SCHL = [54:0x34b0c0000] <chr> \n├─SEMP = [55:0x3e5da8000] <int> \n├─SEX = [56:0x3370a8000] <fct> \n├─SSIP = [57:0x335628000] <int> \n├─SSP = [58:0x4378a8000] <int> \n├─WAGP = [59:0x307748000] <int> \n├─WKHP = [60:0x436f08000] <int> \n├─WKL = [61:0x3e4548000] <fct> \n├─WKW = [62:0x3e5288000] <fct> \n├─YOEP = [63:0x34cb40000] <chr> \n├─UWRK = [64:0x128c30000] <lgl> \n├─ANC = [65:0x436568000] <fct> \n├─ANC1P = [66:0x468000000] <chr> \n├─ANC2P = [67:0x3d4f80000] <chr> \n├─DECADE = [68:0x435bc8000] <fct> \n├─DRIVESP = [69:0x435228000] <fct> \n├─DS = [70:0x434888000] <lgl> \n├─ESP = [71:0x433ee8000] <fct> \n├─ESR = [72:0x433548000] <fct> \n├─HISP = [73:0x469a7c000] <chr> \n├─INDP = [74:0x46b4f8000] <chr> \n├─JWAP = [75:0x46cf74000] <chr> \n├─JWDP = [76:0x46e9f0000] <chr> \n├─LANP = [77:0x47046c000] <chr> \n├─MIGPUMA = [78:0x451b68000] <fct> \n├─MIGSP = [79:0x34e5c0000] <chr> \n├─MSP = [80:0x4511c8000] <fct> \n├─NAICSP = [81:0x3a0d40000] <chr> \n├─NATIVITY = [82:0x450828000] <fct> \n├─OC = [83:0x44f388000] <lgl> \n├─OCCP = [84:0x3a27c0000] <chr> \n├─PAOC = [85:0x44e9e8000] <fct> \n├─PERNP = [86:0x44e048000] <int> \n├─PINCP = [87:0x44d6a8000] <int> \n├─POBP = [88:0x471ee8000] <chr> \n├─POVPIP = [89:0x443358000] <int> \n├─POWPUMA = [90:0x44cd08000] <fct> \n├─POWSP = [91:0x472c28000] <chr> \n├─QTRBIR = [92:0x44c368000] <fct> \n├─RAC1P = [93:0x44b9c8000] <fct> \n├─RAC2P = [94:0x473968000] <chr> \n├─RAC3P = [95:0x4746a8000] <chr> \n├─RACAIAN = [96:0x44b028000] <lgl> \n├─RACASN = [97:0x44a508000] <lgl> \n├─RACBLK = [98:0x449b68000] <lgl> \n├─RACNHPI = [99:0x4491c8000] <lgl> \n├─RACNUM = [100:0x448828000] <int> \n├─RACSOR = [101:0x42f388000] <lgl> \n├─RACWHT = [102:0x42e1c8000] <lgl> \n├─RC = [103:0x42d828000] <lgl> \n├─SFN = [104:0x42ce88000] <fct> \n├─SFR = [105:0x400008000] <fct> \n├─SOCP = [106:0x4753e8000] <chr> \n├─VPS = [107:0x476128000] <chr> \n├─WAOB = [108:0x42c4e8000] <fct> \n├─FAGEP = [109:0x42bb48000] <lgl> \n├─FANCP = [110:0x42b028000] <lgl> \n├─FCITP = [111:0x42a508000] <lgl> \n├─FCOWP = [112:0x429b68000] <lgl> \n├─FDDRSP = [113:0x4439f8000] <lgl> \n├─FDEYEP = [114:0x4291c8000] <lgl> \n├─FDOUTP = [115:0x428008000] <lgl> \n├─FDPHYP = [116:0x4286a8000] <lgl> \n├─FDREMP = [117:0x427088000] <lgl> \n├─FDWRKP = [118:0x4266e8000] <lgl> \n├─FENGP = [119:0x425d48000] <lgl> \n├─FESRP = [120:0x4034a8000] <lgl> \n├─FFERP = [121:0x45ca08000] <lgl> \n├─FGCLP = [122:0x459348000] <lgl> \n├─FGCMP = [123:0x4253a8000] <lgl> \n├─FGCRP = [124:0x424a08000] <lgl> \n├─FHISP = [125:0x424068000] <lgl> \n├─FINDP = [126:0x4236c8000] <lgl> \n├─FINTP = [127:0x422508000] <lgl> \n├─FJWDP = [128:0x421b68000] <lgl> \n├─FJWMNP = [129:0x458308000] <lgl> \n├─FJWRIP = [130:0x4589a8000] <lgl> \n├─FJWTRP = [131:0x380d48000] <lgl> \n├─FLANP = [132:0x380008000] <lgl> \n├─FLANXP = [133:0x385cc8000] <lgl> \n├─FMARP = [134:0x386368000] <lgl> \n├─FMIGP = [135:0x444098000] <lgl> \n├─FMIGSP = [136:0x444738000] <lgl> \n├─FMILPP = [137:0x444dd8000] <lgl> \n├─FMILSP = [138:0x445478000] <lgl> \n├─FMILYP = [139:0x445b18000] <lgl> \n├─FOCCP = [140:0x4461b8000] <lgl> \n├─FOIP = [141:0x446858000] <lgl> \n├─FPAP = [142:0x446ef8000] <lgl> \n├─FPOBP = [143:0x447598000] <lgl> \n├─FPOWSP = [144:0x440ec8000] <lgl> \n├─FRACP = [145:0x440008000] <lgl> \n├─FRELP = [146:0x4406a8000] <lgl> \n├─FRETP = [147:0x31ae68000] <lgl> \n├─FSCHGP = [148:0x31a128000] <lgl> \n├─FSCHLP = [149:0x3186a8000] <lgl> \n├─FSCHP = [150:0x31f4f8000] <lgl> \n├─FSEMP = [151:0x31e858000] <lgl> \n├─FSEXP = [152:0x31deb8000] <lgl> \n├─FSSIP = [153:0x31d408000] <lgl> \n├─FSSP = [154:0x31ca68000] <lgl> \n├─FWAGP = [155:0x31bd28000] <lgl> \n├─FWKHP = [156:0x43e9e8000] <lgl> \n├─FWKLP = [157:0x43f088000] <lgl> \n├─FWKWP = [158:0x43e048000] <lgl> \n├─FYOEP = [159:0x43d6a8000] <lgl> \n├─PWGTP1 = [160:0x43cd08000] <int> \n├─PWGTP2 = [161:0x43c368000] <int> \n├─PWGTP3 = [162:0x43b9c8000] <int> \n├─PWGTP4 = [163:0x43b028000] <int> \n├─PWGTP5 = [164:0x43a688000] <int> \n├─PWGTP6 = [165:0x439ce8000] <int> \n├─PWGTP7 = [166:0x439348000] <int> \n├─PWGTP8 = [167:0x4389a8000] <int> \n├─PWGTP9 = [168:0x438008000] <int> \n├─PWGTP10 = [169:0x41e908000] <int> \n├─PWGTP11 = [170:0x41efa8000] <int> \n├─PWGTP12 = [171:0x386a08000] <int> \n├─PWGTP13 = [172:0x4211c8000] <int> \n├─PWGTP14 = [173:0x420828000] <int> \n├─PWGTP15 = [174:0x4114c8000] <int> \n├─PWGTP16 = [175:0x410b28000] <int> \n├─PWGTP17 = [176:0x410008000] <int> \n├─PWGTP18 = [177:0x416348000] <int> \n├─PWGTP19 = [178:0x3870a8000] <int> \n├─PWGTP20 = [179:0x387748000] <int> \n├─PWGTP21 = [180:0x478008000] <int> \n├─PWGTP22 = [181:0x4786a8000] <int> \n├─PWGTP23 = [182:0x478d48000] <int> \n├─PWGTP24 = [183:0x4793e8000] <int> \n├─PWGTP25 = [184:0x479a88000] <int> \n├─PWGTP26 = [185:0x47a128000] <int> \n├─PWGTP27 = [186:0x47a7c8000] <int> \n├─PWGTP28 = [187:0x47ae68000] <int> \n├─PWGTP29 = [188:0x47b508000] <int> \n├─PWGTP30 = [189:0x47bba8000] <int> \n├─PWGTP31 = [190:0x47c248000] <int> \n├─PWGTP32 = [191:0x47c8e8000] <int> \n├─PWGTP33 = [192:0x415008000] <int> \n├─PWGTP34 = [193:0x3fe7e8000] <int> \n├─PWGTP35 = [194:0x47cf88000] <int> \n├─PWGTP36 = [195:0x47d628000] <int> \n├─PWGTP37 = [196:0x47dcc8000] <int> \n├─PWGTP38 = [197:0x3fde48000] <int> \n├─PWGTP39 = [198:0x408008000] <int> \n├─PWGTP40 = [199:0x4086a8000] <int> \n├─PWGTP41 = [200:0x409868000] <int> \n├─PWGTP42 = [201:0x40ec08000] <int> \n├─PWGTP43 = [202:0x462688000] <int> \n├─PWGTP44 = [203:0x462d28000] <int> \n├─PWGTP45 = [204:0x47e368000] <int> \n├─PWGTP46 = [205:0x47ea08000] <int> \n├─PWGTP47 = [206:0x41df68000] <int> \n├─PWGTP48 = [207:0x4633c8000] <int> \n├─PWGTP49 = [208:0x463a68000] <int> \n├─PWGTP50 = [209:0x464108000] <int> \n├─PWGTP51 = [210:0x47f0a8000] <int> \n├─PWGTP52 = [211:0x4647a8000] <int> \n├─PWGTP53 = [212:0x464e48000] <int> \n├─PWGTP54 = [213:0x4654e8000] <int> \n├─PWGTP55 = [214:0x465b88000] <int> \n├─PWGTP56 = [215:0x466228000] <int> \n├─PWGTP57 = [216:0x4668c8000] <int> \n├─PWGTP58 = [217:0x466f68000] <int> \n├─PWGTP59 = [218:0x467608000] <int> \n├─PWGTP60 = [219:0x480008000] <int> \n├─PWGTP61 = [220:0x47f748000] <int> \n├─PWGTP62 = [221:0x488008000] <int> \n├─PWGTP63 = [222:0x4806a8000] <int> \n├─PWGTP64 = [223:0x41d5c8000] <int> \n├─PWGTP65 = [224:0x4886a8000] <int> \n├─PWGTP66 = [225:0x480d48000] <int> \n├─PWGTP67 = [226:0x4813e8000] <int> \n├─PWGTP68 = [227:0x481a88000] <int> \n├─PWGTP69 = [228:0x488d48000] <int> \n├─PWGTP70 = [229:0x4893e8000] <int> \n├─PWGTP71 = [230:0x489a88000] <int> \n├─PWGTP72 = [231:0x482128000] <int> \n├─PWGTP73 = [232:0x4827c8000] <int> \n├─PWGTP74 = [233:0x482e68000] <int> \n├─PWGTP75 = [234:0x48a128000] <int> \n├─PWGTP76 = [235:0x483508000] <int> \n├─PWGTP77 = [236:0x48a7c8000] <int> \n├─PWGTP78 = [237:0x48ae68000] <int> \n├─PWGTP79 = [238:0x41bd68000] <int> \n├─PWGTP80 = [239:0x48b508000] <int> \n├─NOP = [240:0x48bba8000] <fct> \n├─ADJINC = [241:0x476e68000] <dbl> \n├─CITWP = [242:0x490000000] <chr> \n├─DEAR = [243:0x483ba8000] <lgl> \n├─DRAT = [244:0x484248000] <fct> \n├─DRATX = [245:0x4848e8000] <lgl> \n├─HINS1 = [246:0x484f88000] <lgl> \n├─HINS2 = [247:0x485628000] <lgl> \n├─HINS3 = [248:0x48c248000] <lgl> \n├─HINS4 = [249:0x485cc8000] <lgl> \n├─HINS5 = [250:0x486368000] <lgl> \n├─HINS6 = [251:0x486a08000] <lgl> \n├─HINS7 = [252:0x4870a8000] <lgl> \n├─MARHD = [253:0x48c8e8000] <lgl> \n├─MARHM = [254:0x487748000] <lgl> \n├─MARHT = [255:0x498008000] <fct> \n├─MARHW = [256:0x4986a8000] <lgl> \n├─MARHYP = [257:0x490d40000] <chr> \n├─DIS = [258:0x48cf88000] <lgl> \n├─HICOV = [259:0x48d628000] <lgl> \n├─PRIVCOV = [260:0x48dcc8000] <lgl> \n├─PUBCOV = [261:0x498d48000] <lgl> \n├─FCITWP = [262:0x4993e8000] <lgl> \n├─FDEARP = [263:0x48e368000] <lgl> \n├─FDRATP = [264:0x499a88000] <lgl> \n├─FDRATXP = [265:0x48ea08000] <lgl> \n├─FHINS1P = [266:0x432ba8000] <lgl> \n├─FHINS2P = [267:0x432208000] <lgl> \n├─FHINS3P = [268:0x431868000] <lgl> \n├─FHINS4P = [269:0x41c408000] <lgl> \n├─FHINS5P = [270:0x48f0a8000] <lgl> \n├─FHINS6P = [271:0x49a128000] <lgl> \n├─FHINS7P = [272:0x49a7c8000] <lgl> \n├─FMARHDP = [273:0x48f748000] <lgl> \n├─FMARHMP = [274:0x4a0008000] <lgl> \n├─FMARHTP = [275:0x4a06a8000] <lgl> \n├─FMARHWP = [276:0x49ae68000] <lgl> \n├─FMARHYP = [277:0x4a0d48000] <lgl> \n├─WRK = [278:0x49b508000] <lgl> \n├─FOD1P = [279:0x491a80000] <chr> \n├─FOD2P = [280:0x4927c0000] <chr> \n├─SCIENGP = [281:0x4a13e8000] <lgl> \n├─SCIENGRLP = [282:0x4a1a88000] <lgl> \n├─FFODP = [283:0x4a2128000] <lgl> \n├─FHINS3C = [284:0x4a27c8000] <fct> \n├─FHINS4C = [285:0x4a2e68000] <fct> \n├─FHINS5C = [286:0x49bba8000] <fct> \n├─RELP = [287:0x493500000] <chr> \n├─FWRKP = [288:0x49c248000] <lgl> \n├─FDISP = [289:0x49c8e8000] <lgl> \n├─FPERNP = [290:0x49cf88000] <lgl> \n├─FPINCP = [291:0x4a3508000] <lgl> \n├─FPRIVCOVP = [292:0x49d628000] <lgl> \n├─FPUBCOVP = [293:0x49dcc8000] <lgl> \n├─RACNH = [294:0x4a3ba8000] <lgl> \n├─RACPI = [295:0x49e368000] <lgl> \n├─SSPA = [296:0x49ea08000] <fct> \n├─MLPCD = [297:0x49f0a8000] <lgl> \n├─MLPFG = [298:0x4a4248000] <lgl> \n├─FHICOVP = [299:0x4a48e8000] <lgl> \n├─DIVISION = [300:0x4a4f88000] <fct> \n├─REGION = [301:0x4a5628000] <fct> \n├─HIMRKS = [302:0x4a5cc8000] <fct> \n├─JWTRNS = [303:0x494240000] <chr> \n├─RELSHIPP = [304:0x494f80000] <chr> \n├─WKWN = [305:0x49f748000] <int> \n├─FHIMRKSP = [306:0x4a8008000] <lgl> \n├─FJWTRNSP = [307:0x4a86a8000] <lgl> \n├─FRELSHIPP = [308:0x4a8d48000] <lgl> \n├─FWKWNP = [309:0x4a93e8000] <lgl> \n├─MLPIK = [310:0x4a9a88000] <lgl> \n├─year = [311:0x4aa128000] <int> \n├─location = [312:0x495cc0000] <chr> \n├─age_groups = [313:0x496a00000] <chr> \n├─ins_type = [314:0x4b0000000] <chr> \n└─age_decade = [315:0x4b1a80000] <dbl> \n```\n\n\n:::\n:::\n\n:::\n::::\n\n\n## `set*()` Functions\n\n**Memory-efficient operations by reference**\n\nThe `set*()` family of functions modify data.table objects directly in memory without creating copies, making them essential for large datasets.\n\n. . .\n\n### Why set functions are useful:\n\n1. **Memory efficiency**: No copies made, lower RAM usage\n2. **Speed**: Faster than traditional assignment operations  \n3. **Large data friendly**: Essential when working with datasets that approach memory limits\n4. **Consistent syntax**: Uniform approach across different operations\n\n## Key set functions:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# setnames() - rename columns by reference\nsetnames(pums, \"AGEP\", \"age\") \nsetnames(pums, c(\"old1\", \"old2\"), c(\"new1\", \"new2\"))\n\n# setkey() - set keys for fast operations\nsetkey(pums, ST, year)  # Fast lookups and joins\n\n# setorder() - sort by reference\nsetorder(pums, ST, -AGEP)  # Sort by state, then age descending\n\n# set() - general purpose setter\nset(pums, i = 1L, j = \"AGEP\", value = 99L)  # Set specific cell\nset(pums, j = \"new_col\", value = 0L)        # Add column with default value\n```\n:::\n\n\n\n## Tradeoffs of Modify by Reference\n\n1. Need to keep track of what is referencing the same data\n2. Use copies if you want to keep data independent\n3. When done properly, it can be very memory efficient\n\n## What will this do?\n\n\n::: {.cell}\n\n```{.r .cell-code}\npums2 = pums\nsetnames(pums2, old = \"SPORDER\", new = \"id\")\n```\n:::\n\n\n## What will this do? {auto-animate=\"true\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\npums2 = pums\nsetnames(pums2, old = \"SPORDER\", new = \"id\")\nnames(pums)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  [1] \"id\"         \"RT\"         \"SERIALNO\"   \"PUMA\"       \"ST\"        \n  [6] \"ADJUST\"     \"PWGTP\"      \"AGEP\"       \"CIT\"        \"COW\"       \n [11] \"DDRS\"       \"DEYE\"       \"DOUT\"       \"DPHY\"       \"DREM\"      \n [16] \"DWRK\"       \"ENG\"        \"FER\"        \"GCL\"        \"GCM\"       \n [21] \"GCR\"        \"INTP\"       \"JWMNP\"      \"JWRIP\"      \"JWTR\"      \n [26] \"LANX\"       \"MAR\"        \"MIG\"        \"MIL\"        \"MILY\"      \n [31] \"MLPA\"       \"MLPB\"       \"MLPC\"       \"MLPD\"       \"MLPE\"      \n [36] \"MLPF\"       \"MLPG\"       \"MLPH\"       \"MLPI\"       \"MLPJ\"      \n [41] \"MLPK\"       \"NWAB\"       \"NWAV\"       \"NWLA\"       \"NWLK\"      \n [46] \"NWRE\"       \"OIP\"        \"PAP\"        \"REL\"        \"RETP\"      \n [51] \"SCH\"        \"SCHG\"       \"SCHL\"       \"SEMP\"       \"SEX\"       \n [56] \"SSIP\"       \"SSP\"        \"WAGP\"       \"WKHP\"       \"WKL\"       \n [61] \"WKW\"        \"YOEP\"       \"UWRK\"       \"ANC\"        \"ANC1P\"     \n [66] \"ANC2P\"      \"DECADE\"     \"DRIVESP\"    \"DS\"         \"ESP\"       \n [71] \"ESR\"        \"HISP\"       \"INDP\"       \"JWAP\"       \"JWDP\"      \n [76] \"LANP\"       \"MIGPUMA\"    \"MIGSP\"      \"MSP\"        \"NAICSP\"    \n [81] \"NATIVITY\"   \"OC\"         \"OCCP\"       \"PAOC\"       \"PERNP\"     \n [86] \"PINCP\"      \"POBP\"       \"POVPIP\"     \"POWPUMA\"    \"POWSP\"     \n [91] \"QTRBIR\"     \"RAC1P\"      \"RAC2P\"      \"RAC3P\"      \"RACAIAN\"   \n [96] \"RACASN\"     \"RACBLK\"     \"RACNHPI\"    \"RACNUM\"     \"RACSOR\"    \n[101] \"RACWHT\"     \"RC\"         \"SFN\"        \"SFR\"        \"SOCP\"      \n[106] \"VPS\"        \"WAOB\"       \"FAGEP\"      \"FANCP\"      \"FCITP\"     \n[111] \"FCOWP\"      \"FDDRSP\"     \"FDEYEP\"     \"FDOUTP\"     \"FDPHYP\"    \n[116] \"FDREMP\"     \"FDWRKP\"     \"FENGP\"      \"FESRP\"      \"FFERP\"     \n[121] \"FGCLP\"      \"FGCMP\"      \"FGCRP\"      \"FHISP\"      \"FINDP\"     \n[126] \"FINTP\"      \"FJWDP\"      \"FJWMNP\"     \"FJWRIP\"     \"FJWTRP\"    \n[131] \"FLANP\"      \"FLANXP\"     \"FMARP\"      \"FMIGP\"      \"FMIGSP\"    \n[136] \"FMILPP\"     \"FMILSP\"     \"FMILYP\"     \"FOCCP\"      \"FOIP\"      \n[141] \"FPAP\"       \"FPOBP\"      \"FPOWSP\"     \"FRACP\"      \"FRELP\"     \n[146] \"FRETP\"      \"FSCHGP\"     \"FSCHLP\"     \"FSCHP\"      \"FSEMP\"     \n[151] \"FSEXP\"      \"FSSIP\"      \"FSSP\"       \"FWAGP\"      \"FWKHP\"     \n[156] \"FWKLP\"      \"FWKWP\"      \"FYOEP\"      \"PWGTP1\"     \"PWGTP2\"    \n[161] \"PWGTP3\"     \"PWGTP4\"     \"PWGTP5\"     \"PWGTP6\"     \"PWGTP7\"    \n[166] \"PWGTP8\"     \"PWGTP9\"     \"PWGTP10\"    \"PWGTP11\"    \"PWGTP12\"   \n[171] \"PWGTP13\"    \"PWGTP14\"    \"PWGTP15\"    \"PWGTP16\"    \"PWGTP17\"   \n[176] \"PWGTP18\"    \"PWGTP19\"    \"PWGTP20\"    \"PWGTP21\"    \"PWGTP22\"   \n[181] \"PWGTP23\"    \"PWGTP24\"    \"PWGTP25\"    \"PWGTP26\"    \"PWGTP27\"   \n[186] \"PWGTP28\"    \"PWGTP29\"    \"PWGTP30\"    \"PWGTP31\"    \"PWGTP32\"   \n[191] \"PWGTP33\"    \"PWGTP34\"    \"PWGTP35\"    \"PWGTP36\"    \"PWGTP37\"   \n[196] \"PWGTP38\"    \"PWGTP39\"    \"PWGTP40\"    \"PWGTP41\"    \"PWGTP42\"   \n[201] \"PWGTP43\"    \"PWGTP44\"    \"PWGTP45\"    \"PWGTP46\"    \"PWGTP47\"   \n[206] \"PWGTP48\"    \"PWGTP49\"    \"PWGTP50\"    \"PWGTP51\"    \"PWGTP52\"   \n[211] \"PWGTP53\"    \"PWGTP54\"    \"PWGTP55\"    \"PWGTP56\"    \"PWGTP57\"   \n[216] \"PWGTP58\"    \"PWGTP59\"    \"PWGTP60\"    \"PWGTP61\"    \"PWGTP62\"   \n[221] \"PWGTP63\"    \"PWGTP64\"    \"PWGTP65\"    \"PWGTP66\"    \"PWGTP67\"   \n[226] \"PWGTP68\"    \"PWGTP69\"    \"PWGTP70\"    \"PWGTP71\"    \"PWGTP72\"   \n[231] \"PWGTP73\"    \"PWGTP74\"    \"PWGTP75\"    \"PWGTP76\"    \"PWGTP77\"   \n[236] \"PWGTP78\"    \"PWGTP79\"    \"PWGTP80\"    \"NOP\"        \"ADJINC\"    \n[241] \"CITWP\"      \"DEAR\"       \"DRAT\"       \"DRATX\"      \"HINS1\"     \n[246] \"HINS2\"      \"HINS3\"      \"HINS4\"      \"HINS5\"      \"HINS6\"     \n[251] \"HINS7\"      \"MARHD\"      \"MARHM\"      \"MARHT\"      \"MARHW\"     \n[256] \"MARHYP\"     \"DIS\"        \"HICOV\"      \"PRIVCOV\"    \"PUBCOV\"    \n[261] \"FCITWP\"     \"FDEARP\"     \"FDRATP\"     \"FDRATXP\"    \"FHINS1P\"   \n[266] \"FHINS2P\"    \"FHINS3P\"    \"FHINS4P\"    \"FHINS5P\"    \"FHINS6P\"   \n[271] \"FHINS7P\"    \"FMARHDP\"    \"FMARHMP\"    \"FMARHTP\"    \"FMARHWP\"   \n[276] \"FMARHYP\"    \"WRK\"        \"FOD1P\"      \"FOD2P\"      \"SCIENGP\"   \n[281] \"SCIENGRLP\"  \"FFODP\"      \"FHINS3C\"    \"FHINS4C\"    \"FHINS5C\"   \n[286] \"RELP\"       \"FWRKP\"      \"FDISP\"      \"FPERNP\"     \"FPINCP\"    \n[291] \"FPRIVCOVP\"  \"FPUBCOVP\"   \"RACNH\"      \"RACPI\"      \"SSPA\"      \n[296] \"MLPCD\"      \"MLPFG\"      \"FHICOVP\"    \"DIVISION\"   \"REGION\"    \n[301] \"HIMRKS\"     \"JWTRNS\"     \"RELSHIPP\"   \"WKWN\"       \"FHIMRKSP\"  \n[306] \"FJWTRNSP\"   \"FRELSHIPP\"  \"FWKWNP\"     \"MLPIK\"      \"year\"      \n[311] \"location\"   \"age_groups\" \"ins_type\"   \"age_decade\"\n```\n\n\n:::\n:::\n\n\n## What creates a copy besides `copy()`\n\n<br>\n\n1. When you subset the data (select columns or filter rows)\n2. Change a data.table to a data.frame or tibble\n3. Aggregate or summarizing of the data.table\n\n\n\n## 4. API Lifecycle Management\n\n\"I'm not superstitious, but I am a little stitious.\"\n\n<br>\n\n**Stable and backward compatible**\n\n**Key principles:**\n\n- Backward compatibility maintained\n- New features don't break existing code\n- Clear deprecation warnings when needed\n\n\n## 5. Community\n\n**Active development and strong ecosystem**\n\n- **New Governance**: As part of a NSF grant, new expansive governance\n- **GitHub**: 3,500+ stars, active issues and PRs\n- **CRAN**: Over 2,000 reverse dependencies\n- **Stack Overflow**: 15,000+ questions tagged with data.table\n- **Documentation**: Comprehensive vignettes and examples\n- **Extensions**: dtplyr, data.table.express, tidyfast, tidytable, and more\n\n```r\n# Getting help\n?data.table\nvignette(\"datatable-intro\")\nbrowseVignettes(\"data.table\")\n```\n\n\n## 6. Feature Rich\n\n**Comprehensive data manipulation toolkit**\n\n### Joins\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load household data for comparison\nhousehold_data <- open_dataset(here::here(\"data/household\")) |>\n  filter(year >= 2020, location %in% c(\"ca\", \"tx\", \"ny\")) |>\n  collect()\nsetDT(household_data)\n\n# Create state-year summary from household data\nhousehold_summary <- household_data[, \n  .(avg_income = mean(HINCP, na.rm = TRUE)), \n  by = .(ST, year)\n]\n\n# Join person and household summaries\npums[household_summary, on = c(\"ST\", \"year\")] # merge(pums, household_summary, by = c(\"ST\", \"year\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n            id            RT      SERIALNO   PUMA       ST ADJUST PWGTP  AGEP\n         <int>        <fctr>        <char> <char>   <char>  <int> <int> <int>\n      1:     1 Person Record 2021HU0675553  05309 Texas/TX     NA    42    84\n      2:     1 Person Record 2021HU0675558  06701 Texas/TX     NA    61    61\n      3:     2 Person Record 2021HU0675558  06701 Texas/TX     NA    57    55\n      4:     1 Person Record 2021HU0675567  02506 Texas/TX     NA    60    29\n      5:     2 Person Record 2021HU0675567  02506 Texas/TX     NA    51    28\n     ---                                                                     \n1735551:     1 Person Record 2022HU0609672  04611 Texas/TX     NA   136    56\n1735552:     2 Person Record 2022HU0609672  04611 Texas/TX     NA   140    67\n1735553:     3 Person Record 2022HU0609672  04611 Texas/TX     NA   167    21\n1735554:     1 Person Record 2022HU0609675  04302 Texas/TX     NA    20    66\n1735555:     2 Person Record 2022HU0609675  04302 Texas/TX     NA    33    64\n                                    CIT\n                                 <fctr>\n      1:      Born in the United States\n      2:      Born in the United States\n      3:             Not a U.S. citizen\n      4:      Born in the United States\n      5:      Born in the United States\n     ---                               \n1735551: U.S. citizen by naturalization\n1735552: U.S. citizen by naturalization\n1735553:      Born in the United States\n1735554:      Born in the United States\n1735555:      Born in the United States\n                                                                                                       COW\n                                                                                                    <fctr>\n      1:                                                                                              <NA>\n      2: Employee of a private for-profit co. or bus., or of an individual, for wages, salary, commissions\n      3:                                                                                              <NA>\n      4: Employee of a private for-profit co. or bus., or of an individual, for wages, salary, commissions\n      5:                                                                                              <NA>\n     ---                                                                                                  \n1735551: Employee of a private for-profit co. or bus., or of an individual, for wages, salary, commissions\n1735552: Employee of a private for-profit co. or bus., or of an individual, for wages, salary, commissions\n1735553: Employee of a private for-profit co. or bus., or of an individual, for wages, salary, commissions\n1735554:                                                                                              <NA>\n1735555: Employee of a private for-profit co. or bus., or of an individual, for wages, salary, commissions\n           DDRS   DEYE   DOUT   DPHY   DREM   DWRK       ENG    FER    GCL\n         <lgcl> <lgcl> <lgcl> <lgcl> <lgcl> <lgcl>    <fctr> <lgcl> <lgcl>\n      1:  FALSE  FALSE  FALSE  FALSE  FALSE     NA      <NA>     NA  FALSE\n      2:  FALSE  FALSE  FALSE  FALSE  FALSE     NA      Well     NA  FALSE\n      3:  FALSE  FALSE  FALSE  FALSE  FALSE     NA  Not well     NA  FALSE\n      4:  FALSE  FALSE  FALSE  FALSE  FALSE     NA      <NA>     NA     NA\n      5:  FALSE  FALSE  FALSE  FALSE  FALSE     NA      <NA>  FALSE     NA\n     ---                                                                  \n1735551:  FALSE  FALSE  FALSE  FALSE   TRUE     NA      Well     NA  FALSE\n1735552:  FALSE  FALSE  FALSE  FALSE  FALSE     NA      Well     NA  FALSE\n1735553:  FALSE  FALSE  FALSE  FALSE  FALSE     NA Very well  FALSE     NA\n1735554:   TRUE  FALSE   TRUE   TRUE   TRUE     NA      <NA>     NA  FALSE\n1735555:  FALSE  FALSE  FALSE   TRUE   TRUE     NA      <NA>     NA  FALSE\n            GCM    GCR  INTP JWMNP  JWRIP   JWTR   LANX\n         <fctr> <lgcl> <int> <int> <char> <char> <lgcl>\n      1:   <NA>     NA     0    NA   <NA>   <NA>  FALSE\n      2:   <NA>     NA     0    NA   <NA>   <NA>   TRUE\n      3:   <NA>     NA     0    NA   <NA>   <NA>   TRUE\n      4:   <NA>     NA     0    NA   <NA>   <NA>  FALSE\n      5:   <NA>     NA     0    NA   <NA>   <NA>  FALSE\n     ---                                               \n1735551:   <NA>     NA -2400    40      1   <NA>   TRUE\n1735552:   <NA>     NA     0    30      1   <NA>   TRUE\n1735553:   <NA>     NA     0    20      1   <NA>   TRUE\n1735554:   <NA>     NA     0    NA   <NA>   <NA>  FALSE\n1735555:   <NA>     NA     0    30      1   <NA>  FALSE\n                                         MAR    MIG\n                                      <fctr> <lgcl>\n      1:                             Widowed   TRUE\n      2:                             Married   TRUE\n      3:                             Married   TRUE\n      4:                             Married   TRUE\n      5:                             Married   TRUE\n     ---                                           \n1735551:                             Married   TRUE\n1735552:                             Married   TRUE\n1735553: Never married or under 15 years old   TRUE\n1735554:                             Married   TRUE\n1735555:                             Married   TRUE\n                                  MIL   MILY   MLPA   MLPB   MLPC   MLPD   MLPE\n                               <fctr> <fctr> <lgcl> <lgcl> <lgcl> <lgcl> <lgcl>\n      1: Never served in the military   <NA>     NA     NA     NA     NA     NA\n      2: Never served in the military   <NA>     NA     NA     NA     NA     NA\n      3: Never served in the military   <NA>     NA     NA     NA     NA     NA\n      4: Never served in the military   <NA>     NA     NA     NA     NA     NA\n      5: Never served in the military   <NA>     NA     NA     NA     NA     NA\n     ---                                                                       \n1735551: Never served in the military   <NA>     NA     NA     NA     NA     NA\n1735552: Never served in the military   <NA>     NA     NA     NA     NA     NA\n1735553: Never served in the military   <NA>     NA     NA     NA     NA     NA\n1735554: Never served in the military   <NA>     NA     NA     NA     NA     NA\n1735555: Never served in the military   <NA>     NA     NA     NA     NA     NA\n           MLPF   MLPG   MLPH   MLPI   MLPJ   MLPK   NWAB              NWAV\n         <lgcl> <lgcl> <lgcl> <lgcl> <lgcl> <lgcl> <lgcl>            <fctr>\n      1:     NA     NA     NA     NA     NA     NA  FALSE    Did not report\n      2:     NA     NA     NA     NA     NA     NA  FALSE    Did not report\n      3:     NA     NA     NA     NA     NA     NA  FALSE    Did not report\n      4:     NA     NA     NA     NA     NA     NA     NA    Did not report\n      5:     NA     NA     NA     NA     NA     NA     NA    Did not report\n     ---                                                                   \n1735551:     NA     NA     NA     NA     NA     NA     NA    Did not report\n1735552:     NA     NA     NA     NA     NA     NA     NA    Did not report\n1735553:     NA     NA     NA     NA     NA     NA     NA    Did not report\n1735554:     NA     NA     NA     NA     NA     NA  FALSE No, other reasons\n1735555:     NA     NA     NA     NA     NA     NA  FALSE               Yes\n           NWLA   NWLK   NWRE   OIP   PAP    REL  RETP    SCH\n         <lgcl> <lgcl> <lgcl> <int> <int> <char> <int> <lgcl>\n      1:  FALSE  FALSE     NA     0     0   <NA>     0  FALSE\n      2:  FALSE  FALSE     NA  1200     0   <NA>  4900  FALSE\n      3:  FALSE  FALSE     NA     0     0   <NA>     0  FALSE\n      4:     NA     NA     NA     0     0   <NA>     0   TRUE\n      5:     NA     NA     NA     0     0   <NA>     0   TRUE\n     ---                                                     \n1735551:     NA     NA     NA     0     0   <NA>     0  FALSE\n1735552:     NA     NA     NA     0     0   <NA>     0  FALSE\n1735553:     NA     NA     NA     0     0   <NA>     0   TRUE\n1735554:  FALSE  FALSE  FALSE     0     0   <NA>     0  FALSE\n1735555:  FALSE  FALSE     NA     0     0   <NA>     0  FALSE\n                                                     SCHG\n                                                   <char>\n      1:                                             <NA>\n      2:                                             <NA>\n      3:                                             <NA>\n      4: College undergraduate years (freshman to senior)\n      5: College undergraduate years (freshman to senior)\n     ---                                                 \n1735551:                                             <NA>\n1735552:                                             <NA>\n1735553: College undergraduate years (freshman to senior)\n1735554:                                             <NA>\n1735555:                                             <NA>\n                                                 SCHL  SEMP    SEX  SSIP   SSP\n                                               <char> <int> <fctr> <int> <int>\n      1: 1 or more years of college credit, no degree     0 Female     0 20000\n      2:                  Regular high school diploma     0   Male     0     0\n      3:                                      Grade 6     0 Female     0     0\n      4:                           Associate's degree     0   Male     0     0\n      5:                           Associate's degree     0 Female     0     0\n     ---                                                                      \n1735551:                            Bachelor's degree     0 Female     0     0\n1735552:                  Regular high school diploma     0   Male     0     0\n1735553: 1 or more years of college credit, no degree     0 Female     0     0\n1735554:           Some college, but less than 1 year     0   Male  3600 30100\n1735555:                  Regular high school diploma 12100 Female     0     0\n          WAGP  WKHP                              WKL    WKW   YOEP   UWRK\n         <int> <int>                           <fctr> <fctr> <char> <lgcl>\n      1:     0    NA Over 5 years ago or never worked   <NA>   <NA>     NA\n      2:     0    NA                    1-5 years ago   <NA>   <NA>     NA\n      3:     0    NA Over 5 years ago or never worked   <NA>   1982     NA\n      4: 52000    45        Within the past 12 months   <NA>   <NA>     NA\n      5:     0    NA Over 5 years ago or never worked   <NA>   <NA>     NA\n     ---                                                                  \n1735551: 30000    40        Within the past 12 months   <NA>   1975     NA\n1735552: 50000    40        Within the past 12 months   <NA>   1957     NA\n1735553: 18000    20        Within the past 12 months   <NA>   <NA>     NA\n1735554:     0    NA Over 5 years ago or never worked   <NA>   <NA>     NA\n1735555: 30100    40        Within the past 12 months   <NA>   <NA>     NA\n                  ANC        ANC1P        ANC2P      DECADE\n               <fctr>       <char>       <char>      <fctr>\n      1: Not reported Not reported Not reported        <NA>\n      2:       Single      Mexican Not reported        <NA>\n      3:       Single      Mexican Not reported 1980 - 1989\n      4:       Single       German Not reported        <NA>\n      5: Not reported Not reported Not reported        <NA>\n     ---                                                   \n1735551:       Single      Chinese Not reported 1970 - 1979\n1735552:       Single   Vietnamese Not reported 1950 - 1959\n1735553:       Single   Vietnamese Not reported        <NA>\n1735554:       Single        White Not reported        <NA>\n1735555:       Single      Mexican Not reported        <NA>\n                              DRIVESP     DS    ESP                        ESR\n                               <fctr> <lgcl> <fctr>                     <fctr>\n      1:                         <NA>     NA   <NA>         Not in Labor Force\n      2:                         <NA>     NA   <NA>         Not in Labor Force\n      3:                         <NA>     NA   <NA>         Not in Labor Force\n      4:                         <NA>     NA   <NA> Civilian employed, at work\n      5:                         <NA>     NA   <NA>         Not in Labor Force\n     ---                                                                      \n1735551: 1.000 vehicles (Drove alone)     NA   <NA> Civilian employed, at work\n1735552: 1.000 vehicles (Drove alone)     NA   <NA> Civilian employed, at work\n1735553: 1.000 vehicles (Drove alone)     NA   <NA> Civilian employed, at work\n1735554:                         <NA>     NA   <NA>         Not in Labor Force\n1735555: 1.000 vehicles (Drove alone)     NA   <NA> Civilian employed, at work\n                                HISP\n                              <char>\n      1: Not Spanish/Hispanic/Latino\n      2:                     Mexican\n      3:                     Mexican\n      4: Not Spanish/Hispanic/Latino\n      5: Not Spanish/Hispanic/Latino\n     ---                            \n1735551: Not Spanish/Hispanic/Latino\n1735552: Not Spanish/Hispanic/Latino\n1735553: Not Spanish/Hispanic/Latino\n1735554: Not Spanish/Hispanic/Latino\n1735555:                     Mexican\n                                                                               INDP\n                                                                             <char>\n      1:                                                                       <NA>\n      2:                                  TRN-Services Incidental To Transportation\n      3:                                                                       <NA>\n      4:                                                   TRN-Truck Transportation\n      5:                                                                       <NA>\n     ---                                                                           \n1735551:                                         FIN-Banking And Related Activities\n1735552:                                                     RET-Automobile Dealers\n1735553: RET-General Merchandise Stores, Including Warehouse Clubs and Supercenters\n1735554:                                                                       <NA>\n1735555:                                       EDU-Elementary And Secondary Schools\n                             JWAP                     JWDP       LANP MIGPUMA\n                           <char>                   <char>     <char>  <fctr>\n      1:                     <NA>                     <NA>       <NA>    <NA>\n      2:                     <NA>                     <NA>    Spanish    <NA>\n      3:                     <NA>                     <NA>    Spanish    <NA>\n      4:                     <NA>                     <NA>       <NA>    <NA>\n      5:                     <NA>                     <NA>       <NA>    <NA>\n     ---                                                                     \n1735551:   7:55 a.m. to 7:59 a.m.   7:15 a.m. to 7:19 a.m. Vietnamese    <NA>\n1735552:   7:30 a.m. to 7:34 a.m.   7:00 a.m. to 7:04 a.m. Vietnamese    <NA>\n1735553: 11:50 a.m. to 11:54 a.m. 11:30 a.m. to 11:39 a.m. Vietnamese    <NA>\n1735554:                     <NA>                     <NA>       <NA>    <NA>\n1735555:   7:00 a.m. to 7:04 a.m.   6:30 a.m. to 6:34 a.m.       <NA>    <NA>\n          MIGSP                         MSP\n         <char>                      <fctr>\n      1:   <NA>                     Widowed\n      2:   <NA> Now Married, Spouse Present\n      3:   <NA> Now Married, Spouse Present\n      4:   <NA> Now Married, Spouse Present\n      5:   <NA> Now Married, Spouse Present\n     ---                                   \n1735551:   <NA> Now Married, Spouse Present\n1735552:   <NA> Now Married, Spouse Present\n1735553:   <NA>               Never Married\n1735554:   <NA> Now Married, Spouse Present\n1735555:   <NA> Now Married, Spouse Present\n                                                                             NAICSP\n                                                                             <char>\n      1:                                                                       <NA>\n      2:                                  TRN-Services Incidental To Transportation\n      3:                                                                       <NA>\n      4:                                                   TRN-Truck Transportation\n      5:                                                                       <NA>\n     ---                                                                           \n1735551:                                         FIN-Banking And Related Activities\n1735552:                                                     RET-Automobile Dealers\n1735553: RET-General Merchandise Stores, Including Warehouse Clubs and Supercenters\n1735554:                                                                       <NA>\n1735555:                                       EDU-Elementary And Secondary Schools\n             NATIVITY     OC\n               <fctr> <lgcl>\n      1:       Native     NA\n      2:       Native     NA\n      3: Foreign born     NA\n      4:       Native     NA\n      5:       Native     NA\n     ---                    \n1735551: Foreign born     NA\n1735552: Foreign born     NA\n1735553:       Native     NA\n1735554:       Native     NA\n1735555:       Native     NA\n                                                               OCCP\n                                                             <char>\n      1:                                                       <NA>\n      2: TRN-Laborers And Freight, Stock, And Material Movers, Hand\n      3:                                                       <NA>\n      4:  RPR-Bus And Truck Mechanics And Diesel Engine Specialists\n      5:                                                       <NA>\n     ---                                                           \n1735551:                                                OFF-Tellers\n1735552:           RPR-Automotive Service Technicians And Mechanics\n1735553:                                   MED-Pharmacy Technicians\n1735554:                                                       <NA>\n1735555:                                    EDU-Teaching Assistants\n                                                 PAOC PERNP PINCP         POBP\n                                               <fctr> <int> <int>       <char>\n      1:                 Females with no own children     0 20000     Texas/TX\n      2:                                         <NA>     0  6100     Texas/TX\n      3:                 Females with no own children     0     0       Mexico\n      4:                                         <NA> 52000 52000     Texas/TX\n      5: Females with own children under 6 years only     0     0     Texas/TX\n     ---                                                                      \n1735551:                 Females with no own children 30000 27600      Vietnam\n1735552:                                         <NA> 50000 50000      Vietnam\n1735553:                 Females with no own children 18000 18000     Texas/TX\n1735554:                                         <NA>     0 33700 Minnesota/MN\n1735555:                 Females with no own children 42200 42200     Texas/TX\n         POVPIP POWPUMA    POWSP                   QTRBIR                 RAC1P\n          <int>  <fctr>   <char>                   <fctr>                <fctr>\n      1:    157    <NA>     <NA> October through December           White alone\n      2:     35    <NA>     <NA>   July through September     Two or More Races\n      3:     35    <NA>     <NA>    January through March     Two or More Races\n      4:    245    <NA> Texas/TX October through December           White alone\n      5:    245    <NA>     <NA>   July through September           White alone\n     ---                                                                       \n1735551:    419    <NA> Texas/TX October through December           Asian alone\n1735552:    419    <NA> Texas/TX       April through June           Asian alone\n1735553:    419    <NA> Texas/TX    January through March           Asian alone\n1735554:    431    <NA>     <NA>       April through June           White alone\n1735555:    431    <NA> Texas/TX       April through June Some other race alone\n                         RAC2P                  RAC3P RACAIAN RACASN RACBLK\n                        <char>                 <char>  <lgcl> <lgcl> <lgcl>\n      1:           White alone            White alone   FALSE  FALSE  FALSE\n      2:     Two or More Races White; Some Other Race   FALSE  FALSE  FALSE\n      3:     Two or More Races White; Some Other Race   FALSE  FALSE  FALSE\n      4:           White alone            White alone   FALSE  FALSE  FALSE\n      5:           White alone            White alone   FALSE  FALSE  FALSE\n     ---                                                                   \n1735551:      Vietnamese alone       Vietnamese alone   FALSE   TRUE  FALSE\n1735552:      Vietnamese alone       Vietnamese alone   FALSE   TRUE  FALSE\n1735553:      Vietnamese alone       Vietnamese alone   FALSE   TRUE  FALSE\n1735554:           White alone            White alone   FALSE  FALSE  FALSE\n1735555: Some Other Race alone  Some Other Race alone   FALSE  FALSE  FALSE\n         RACNHPI RACNUM RACSOR RACWHT     RC    SFN    SFR\n          <lgcl>  <int> <lgcl> <lgcl> <lgcl> <fctr> <fctr>\n      1:      NA      1  FALSE   TRUE     NA   <NA>   <NA>\n      2:      NA      2   TRUE   TRUE     NA   <NA>   <NA>\n      3:      NA      2   TRUE   TRUE     NA   <NA>   <NA>\n      4:      NA      1  FALSE   TRUE     NA   <NA>   <NA>\n      5:      NA      1  FALSE   TRUE     NA   <NA>   <NA>\n     ---                                                  \n1735551:      NA      1  FALSE  FALSE     NA   <NA>   <NA>\n1735552:      NA      1  FALSE  FALSE     NA   <NA>   <NA>\n1735553:      NA      1  FALSE  FALSE     NA   <NA>   <NA>\n1735554:      NA      1  FALSE   TRUE     NA   <NA>   <NA>\n1735555:      NA      1   TRUE  FALSE     NA   <NA>   <NA>\n                                                               SOCP    VPS\n                                                             <char> <char>\n      1:                                                       <NA>   <NA>\n      2: TRN-Laborers And Freight, Stock, And Material Movers, Hand   <NA>\n      3:                                                       <NA>   <NA>\n      4:  RPR-Bus And Truck Mechanics And Diesel Engine Specialists   <NA>\n      5:                                                       <NA>   <NA>\n     ---                                                                  \n1735551:                                                OFF-Tellers   <NA>\n1735552:           RPR-Automotive Service Technicians And Mechanics   <NA>\n1735553:                                   MED-Pharmacy Technicians   <NA>\n1735554:                                                       <NA>   <NA>\n1735555:                                    EDU-Teaching Assistants   <NA>\n                                       WAOB  FAGEP  FANCP  FCITP  FCOWP FDDRSP\n                                     <fctr> <lgcl> <lgcl> <lgcl> <lgcl> <lgcl>\n      1:          US state (POBP = 001-059)  FALSE  FALSE  FALSE  FALSE  FALSE\n      2:          US state (POBP = 001-059)  FALSE  FALSE  FALSE  FALSE  FALSE\n      3: Latin America (POBP = 303,310-399)  FALSE  FALSE  FALSE  FALSE  FALSE\n      4:          US state (POBP = 001-059)  FALSE  FALSE  FALSE   TRUE  FALSE\n      5:          US state (POBP = 001-059)  FALSE  FALSE   TRUE  FALSE   TRUE\n     ---                                                                      \n1735551:  Asia (POBP = 158-159,161,200-299)  FALSE  FALSE  FALSE  FALSE  FALSE\n1735552:  Asia (POBP = 158-159,161,200-299)  FALSE  FALSE  FALSE  FALSE  FALSE\n1735553:          US state (POBP = 001-059)  FALSE  FALSE  FALSE  FALSE  FALSE\n1735554:          US state (POBP = 001-059)  FALSE  FALSE  FALSE  FALSE  FALSE\n1735555:          US state (POBP = 001-059)  FALSE  FALSE  FALSE  FALSE  FALSE\n         FDEYEP FDOUTP FDPHYP FDREMP FDWRKP  FENGP  FESRP  FFERP  FGCLP  FGCMP\n         <lgcl> <lgcl> <lgcl> <lgcl> <lgcl> <lgcl> <lgcl> <lgcl> <lgcl> <lgcl>\n      1:  FALSE  FALSE  FALSE  FALSE     NA  FALSE  FALSE  FALSE  FALSE  FALSE\n      2:  FALSE  FALSE  FALSE  FALSE     NA  FALSE  FALSE  FALSE  FALSE  FALSE\n      3:  FALSE  FALSE  FALSE  FALSE     NA  FALSE  FALSE  FALSE  FALSE  FALSE\n      4:  FALSE  FALSE  FALSE  FALSE     NA  FALSE  FALSE  FALSE  FALSE  FALSE\n      5:   TRUE   TRUE   TRUE   TRUE     NA  FALSE   TRUE   TRUE  FALSE  FALSE\n     ---                                                                      \n1735551:  FALSE  FALSE  FALSE  FALSE     NA  FALSE  FALSE  FALSE  FALSE  FALSE\n1735552:  FALSE  FALSE  FALSE  FALSE     NA  FALSE  FALSE  FALSE  FALSE  FALSE\n1735553:  FALSE  FALSE  FALSE  FALSE     NA  FALSE  FALSE  FALSE  FALSE  FALSE\n1735554:  FALSE  FALSE  FALSE  FALSE     NA  FALSE  FALSE  FALSE  FALSE  FALSE\n1735555:  FALSE  FALSE  FALSE  FALSE     NA  FALSE  FALSE  FALSE  FALSE  FALSE\n          FGCRP  FHISP  FINDP  FINTP  FJWDP FJWMNP FJWRIP FJWTRP  FLANP FLANXP\n         <lgcl> <lgcl> <lgcl> <lgcl> <lgcl> <lgcl> <lgcl> <lgcl> <lgcl> <lgcl>\n      1:  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE     NA  FALSE  FALSE\n      2:  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE     NA  FALSE  FALSE\n      3:  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE     NA  FALSE  FALSE\n      4:  FALSE  FALSE   TRUE   TRUE  FALSE  FALSE  FALSE     NA  FALSE  FALSE\n      5:  FALSE  FALSE  FALSE   TRUE  FALSE  FALSE  FALSE     NA  FALSE   TRUE\n     ---                                                                      \n1735551:  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE     NA  FALSE  FALSE\n1735552:  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE     NA  FALSE  FALSE\n1735553:  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE     NA  FALSE  FALSE\n1735554:  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE     NA  FALSE  FALSE\n1735555:  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE     NA  FALSE   TRUE\n          FMARP  FMIGP FMIGSP FMILPP FMILSP FMILYP  FOCCP   FOIP   FPAP  FPOBP\n         <lgcl> <lgcl> <lgcl> <lgcl> <lgcl> <lgcl> <lgcl> <lgcl> <lgcl> <lgcl>\n      1:  FALSE  FALSE  FALSE  FALSE  FALSE     NA  FALSE  FALSE  FALSE  FALSE\n      2:  FALSE  FALSE  FALSE  FALSE  FALSE     NA  FALSE  FALSE  FALSE  FALSE\n      3:  FALSE  FALSE  FALSE  FALSE  FALSE     NA  FALSE  FALSE  FALSE  FALSE\n      4:  FALSE  FALSE  FALSE  FALSE  FALSE     NA   TRUE   TRUE   TRUE  FALSE\n      5:  FALSE  FALSE  FALSE  FALSE   TRUE     NA  FALSE   TRUE   TRUE   TRUE\n     ---                                                                      \n1735551:  FALSE  FALSE  FALSE  FALSE  FALSE     NA  FALSE  FALSE  FALSE  FALSE\n1735552:  FALSE  FALSE  FALSE  FALSE  FALSE     NA  FALSE  FALSE  FALSE  FALSE\n1735553:  FALSE  FALSE  FALSE  FALSE  FALSE     NA  FALSE  FALSE  FALSE  FALSE\n1735554:  FALSE  FALSE  FALSE  FALSE  FALSE     NA  FALSE  FALSE  FALSE  FALSE\n1735555:  FALSE  FALSE  FALSE  FALSE  FALSE     NA  FALSE  FALSE  FALSE  FALSE\n         FPOWSP  FRACP  FRELP  FRETP FSCHGP FSCHLP  FSCHP  FSEMP  FSEXP  FSSIP\n         <lgcl> <lgcl> <lgcl> <lgcl> <lgcl> <lgcl> <lgcl> <lgcl> <lgcl> <lgcl>\n      1:  FALSE  FALSE     NA  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE\n      2:  FALSE  FALSE     NA  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE\n      3:  FALSE  FALSE     NA  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE\n      4:  FALSE  FALSE     NA   TRUE  FALSE  FALSE  FALSE   TRUE  FALSE   TRUE\n      5:  FALSE  FALSE     NA   TRUE   TRUE   TRUE   TRUE   TRUE  FALSE   TRUE\n     ---                                                                      \n1735551:  FALSE  FALSE     NA  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE\n1735552:  FALSE  FALSE     NA  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE\n1735553:  FALSE  FALSE     NA  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE\n1735554:  FALSE  FALSE     NA  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE   TRUE\n1735555:  FALSE  FALSE     NA  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE\n           FSSP  FWAGP  FWKHP  FWKLP  FWKWP  FYOEP PWGTP1 PWGTP2 PWGTP3 PWGTP4\n         <lgcl> <lgcl> <lgcl> <lgcl> <lgcl> <lgcl>  <int>  <int>  <int>  <int>\n      1:  FALSE  FALSE  FALSE  FALSE     NA  FALSE     12     11     43     43\n      2:  FALSE  FALSE  FALSE  FALSE     NA  FALSE     20     15     26     20\n      3:  FALSE  FALSE  FALSE  FALSE     NA  FALSE     19     13     25     19\n      4:   TRUE   TRUE   TRUE   TRUE     NA  FALSE     92    103     63    115\n      5:   TRUE   TRUE  FALSE   TRUE     NA  FALSE     76     86     49    100\n     ---                                                                      \n1735551:  FALSE  FALSE  FALSE  FALSE     NA   TRUE     35    231    139    217\n1735552:  FALSE  FALSE  FALSE  FALSE     NA   TRUE     41    236    143    221\n1735553:  FALSE  FALSE  FALSE  FALSE     NA  FALSE     50    285    180    237\n1735554:  FALSE  FALSE  FALSE  FALSE     NA  FALSE      5     31      6     16\n1735555:  FALSE  FALSE  FALSE  FALSE     NA  FALSE      6     65      9     27\n         PWGTP5 PWGTP6 PWGTP7 PWGTP8 PWGTP9 PWGTP10 PWGTP11 PWGTP12 PWGTP13\n          <int>  <int>  <int>  <int>  <int>   <int>   <int>   <int>   <int>\n      1:     42     13     67     13     39      79      74      69      41\n      2:     82     60     70     22    124      67      79      97      60\n      3:     77     57     61     22    115      61      75      83      58\n      4:     59     66     19     59     22      48      17      63      61\n      5:     47     59     17     45     16      42      13      59      56\n     ---                                                                   \n1735551:    149     36    153     44    198     123      40      42     139\n1735552:    157     35    139     41    196     132      44      46     151\n1735553:    179     46    206     54    250     133      50      53     167\n1735554:     25     28     31     41     23      16       5      40      17\n1735555:     45     42     64     52     35      28       7      49      31\n         PWGTP14 PWGTP15 PWGTP16 PWGTP17 PWGTP18 PWGTP19 PWGTP20 PWGTP21\n           <int>   <int>   <int>   <int>   <int>   <int>   <int>   <int>\n      1:      13      78      49      41      42      41      55      12\n      2:      48      93      51      47      68      96      85      16\n      3:      48      88      55      43      64      85      76      15\n      4:      88      59      62      90      18      17      18      68\n      5:      81      55      49      82      14      12      17      62\n     ---                                                                \n1735551:     160     130     142     117     170     162      53     187\n1735552:     152     141     161     117     183     168      53     216\n1735553:     178     152     187     142     212     232      54     267\n1735554:       5      23      22      24      17       6       6      26\n1735555:      10      30      33      40      25      10      12      38\n         PWGTP22 PWGTP23 PWGTP24 PWGTP25 PWGTP26 PWGTP27 PWGTP28 PWGTP29\n           <int>   <int>   <int>   <int>   <int>   <int>   <int>   <int>\n      1:      11      42      39      40      14      68      13      43\n      2:      15      17      16     146      84      60      19     113\n      3:      16      16      15     136      80      54      20     106\n      4:      57      17      52     112      20      60      17      51\n      5:      42      14      46      84      16      49      15      41\n     ---                                                                \n1735551:      49     134      40     179     218     141     198      36\n1735552:      53     141      42     169     206     139     208      36\n1735553:      70     164      38     202     218     167     256      40\n1735554:      19      25      29       6      18      18      16      34\n1735555:      26      47      46      10      46      27      28      63\n         PWGTP30 PWGTP31 PWGTP32 PWGTP33 PWGTP34 PWGTP35 PWGTP36 PWGTP37\n           <int>   <int>   <int>   <int>   <int>   <int>   <int>   <int>\n      1:      72      64      80      45      12      84      42      43\n      2:      61      57     129      63      50      88      46      81\n      3:      52      50     133      62      45      74      43      74\n      4:     129      67     115      19      64     103     116      62\n      5:      94      57     103      15      52      77      90      57\n     ---                                                                \n1735551:     127     224     190     132     141     141     161     138\n1735552:     129     231     203     137     126     145     172     129\n1735553:     172     278     243     197     177     177     204     153\n1735554:       6      16      21      34      19      40      34       7\n1735555:      13      25      41      89      33      58      59      12\n         PWGTP38 PWGTP39 PWGTP40 PWGTP41 PWGTP42 PWGTP43 PWGTP44 PWGTP45\n           <int>   <int>   <int>   <int>   <int>   <int>   <int>   <int>\n      1:      39      44      37      72      77      39      42      50\n      2:      65     116      86      17      19      18      16     139\n      3:      62     110      78      15      17      18      13     129\n      4:      60      73      59      89     114      57     109      52\n      5:      46      56      53      75      91      47      97      45\n     ---                                                                \n1735551:      33     163     275      41     221     141     210     131\n1735552:      35     156     288      39     248     140     209     142\n1735553:      41     188     336      46     263     164     255     156\n1735554:       5      22      20       6      40       8      16      18\n1735555:       7      38      34       8      54       8      27      42\n         PWGTP46 PWGTP47 PWGTP48 PWGTP49 PWGTP50 PWGTP51 PWGTP52 PWGTP53\n           <int>   <int>   <int>   <int>   <int>   <int>   <int>   <int>\n      1:      77      11      64      41      12      11      15      49\n      2:      78      58      21     109      52      51     161      63\n      3:      70      55      19     116      54      50     147      61\n      4:      65      22      64      19      57      16      62      59\n      5:      56      17      49      15      49      13      52      48\n     ---                                                                \n1735551:      38     154      47     230     121      41      34     107\n1735552:      40     159      45     223     140      44      35     105\n1735553:      48     181      59     240     151      47      41     143\n1735554:      33      31      29      22      17       5      37      17\n1735555:      61      54      43      33      19       9      77      31\n         PWGTP54 PWGTP55 PWGTP56 PWGTP57 PWGTP58 PWGTP59 PWGTP60 PWGTP61\n           <int>   <int>   <int>   <int>   <int>   <int>   <int>   <int>\n      1:      81      14      44      45      43      41      44      71\n      2:      54      91      46      60      52     107      55      17\n      3:      54      84      43      60      49     107      47      16\n      4:     112      65      56      95      16      15      19      72\n      5:      90      59      49      87      15      12      17      54\n     ---                                                                \n1735551:     145     156     142     145     209     141      41     201\n1735552:     144     156     151     154     196     152      50     209\n1735553:     179     175     196     158     249     211      58     300\n1735554:       5      20      21      18      18       8       7      23\n1735555:      10      50      28      29      31      13      11      50\n         PWGTP62 PWGTP63 PWGTP64 PWGTP65 PWGTP66 PWGTP67 PWGTP68 PWGTP69\n           <int>   <int>   <int>   <int>   <int>   <int>   <int>   <int>\n      1:      72      42      42      42      75      15      68      41\n      2:      16      21      22      81      55      68      24     122\n      3:      15      21      20      76      53      68      22     117\n      4:      56      18      58     115      18      54      19      55\n      5:      43      15      46      91      18      48      15      46\n     ---                                                                \n1735551:      46     148      39     127     193     121     255      38\n1735552:      49     158      37     134     192     130     268      41\n1735553:      64     167      40     181     233     162     327      49\n1735554:      15      19      29       5      21      26      20      32\n1735555:      22      36      37       9      40      39      25      47\n         PWGTP70 PWGTP71 PWGTP72 PWGTP73 PWGTP74 PWGTP75 PWGTP76 PWGTP77\n           <int>   <int>   <int>   <int>   <int>   <int>   <int>   <int>\n      1:      12      11      12      47      70      13      35      43\n      2:      73      69     113      68      48      78      60      52\n      3:      72      61      88      59      44      79      55      47\n      4:     113      73     105      19      61      96     105      68\n      5:      94      60      90      14      51      84      75      58\n     ---                                                                \n1735551:     124     208     208     124     139     172     156     151\n1735552:     135     193     212     123     128     159     169     186\n1735553:     150     277     220     174     172     183     227     208\n1735554:       4      16      21      40      20      36      42       7\n1735555:       8      30      52      67      32      82      67      16\n         PWGTP78 PWGTP79 PWGTP80    NOP   ADJINC  CITWP   DEAR   DRAT  DRATX\n           <int>   <int>   <int> <fctr>    <num> <char> <lgcl> <fctr> <lgcl>\n      1:      50      41      44   <NA> 1.029928   <NA>  FALSE   <NA>     NA\n      2:      88     102      53   <NA> 1.029928   <NA>  FALSE   <NA>     NA\n      3:      76      96      52   <NA> 1.029928   <NA>   TRUE   <NA>     NA\n      4:      62      67      58   <NA> 1.029928   <NA>  FALSE   <NA>     NA\n      5:      45      52      50   <NA> 1.029928   <NA>  FALSE   <NA>     NA\n     ---                                                                    \n1735551:      43     130     245   <NA> 1.042311   1989  FALSE   <NA>     NA\n1735552:      42     138     275   <NA> 1.042311   1993  FALSE   <NA>     NA\n1735553:      50     158     344   <NA> 1.042311   <NA>  FALSE   <NA>     NA\n1735554:       5      19      22   <NA> 1.042311   <NA>   TRUE   <NA>     NA\n1735555:       9      46      44   <NA> 1.042311   <NA>  FALSE   <NA>     NA\n          HINS1  HINS2  HINS3  HINS4  HINS5  HINS6  HINS7  MARHD  MARHM\n         <lgcl> <lgcl> <lgcl> <lgcl> <lgcl> <lgcl> <lgcl> <lgcl> <lgcl>\n      1:  FALSE  FALSE   TRUE  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE\n      2:  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE\n      3:  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE\n      4:  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE\n      5:  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE\n     ---                                                               \n1735551:   TRUE  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE\n1735552:   TRUE   TRUE  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE\n1735553:  FALSE   TRUE  FALSE  FALSE  FALSE  FALSE  FALSE     NA     NA\n1735554:   TRUE  FALSE   TRUE   TRUE  FALSE  FALSE  FALSE  FALSE  FALSE\n1735555:   TRUE  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE  FALSE\n            MARHT  MARHW MARHYP    DIS  HICOV PRIVCOV PUBCOV FCITWP FDEARP\n           <fctr> <lgcl> <char> <lgcl> <lgcl>  <lgcl> <lgcl> <lgcl> <lgcl>\n      1: One time  FALSE   1956  FALSE   TRUE   FALSE   TRUE  FALSE  FALSE\n      2: One time  FALSE   1984  FALSE  FALSE   FALSE  FALSE  FALSE  FALSE\n      3: One time  FALSE   1984   TRUE  FALSE   FALSE  FALSE  FALSE  FALSE\n      4: One time  FALSE   2014  FALSE  FALSE   FALSE  FALSE  FALSE  FALSE\n      5: One time  FALSE   2014  FALSE  FALSE   FALSE  FALSE  FALSE   TRUE\n     ---                                                                  \n1735551: One time  FALSE   1998   TRUE   TRUE    TRUE  FALSE  FALSE  FALSE\n1735552: One time  FALSE   1998  FALSE   TRUE    TRUE  FALSE  FALSE  FALSE\n1735553:     <NA>     NA   <NA>  FALSE   TRUE    TRUE  FALSE  FALSE  FALSE\n1735554: One time  FALSE   1974   TRUE   TRUE    TRUE   TRUE  FALSE  FALSE\n1735555: One time  FALSE   1974   TRUE   TRUE    TRUE  FALSE  FALSE  FALSE\n         FDRATP FDRATXP FHINS1P FHINS2P FHINS3P FHINS4P FHINS5P FHINS6P FHINS7P\n         <lgcl>  <lgcl>  <lgcl>  <lgcl>  <lgcl>  <lgcl>  <lgcl>  <lgcl>  <lgcl>\n      1:  FALSE   FALSE   FALSE   FALSE   FALSE   FALSE   FALSE   FALSE   FALSE\n      2:  FALSE   FALSE   FALSE   FALSE   FALSE   FALSE   FALSE   FALSE   FALSE\n      3:  FALSE   FALSE   FALSE   FALSE   FALSE   FALSE   FALSE   FALSE   FALSE\n      4:  FALSE   FALSE   FALSE   FALSE   FALSE   FALSE   FALSE   FALSE   FALSE\n      5:  FALSE   FALSE    TRUE    TRUE    TRUE    TRUE    TRUE    TRUE    TRUE\n     ---                                                                       \n1735551:  FALSE   FALSE   FALSE   FALSE   FALSE   FALSE   FALSE   FALSE   FALSE\n1735552:  FALSE   FALSE   FALSE   FALSE   FALSE   FALSE   FALSE   FALSE   FALSE\n1735553:  FALSE   FALSE   FALSE   FALSE   FALSE   FALSE   FALSE   FALSE   FALSE\n1735554:  FALSE   FALSE   FALSE    TRUE   FALSE   FALSE    TRUE    TRUE    TRUE\n1735555:  FALSE   FALSE   FALSE   FALSE   FALSE   FALSE   FALSE   FALSE   FALSE\n         FMARHDP FMARHMP FMARHTP FMARHWP FMARHYP    WRK            FOD1P  FOD2P\n          <lgcl>  <lgcl>  <lgcl>  <lgcl>  <lgcl> <lgcl>           <char> <char>\n      1:   FALSE   FALSE   FALSE   FALSE   FALSE  FALSE             <NA>   <NA>\n      2:   FALSE   FALSE   FALSE   FALSE   FALSE  FALSE             <NA>   <NA>\n      3:   FALSE   FALSE   FALSE   FALSE   FALSE  FALSE             <NA>   <NA>\n      4:   FALSE   FALSE   FALSE   FALSE   FALSE   TRUE             <NA>   <NA>\n      5:    TRUE   FALSE    TRUE    TRUE   FALSE     NA             <NA>   <NA>\n     ---                                                                       \n1735551:   FALSE   FALSE   FALSE   FALSE   FALSE   TRUE General Business   <NA>\n1735552:   FALSE   FALSE   FALSE   FALSE   FALSE   TRUE             <NA>   <NA>\n1735553:   FALSE   FALSE   FALSE   FALSE   FALSE   TRUE             <NA>   <NA>\n1735554:   FALSE   FALSE   FALSE   FALSE   FALSE  FALSE             <NA>   <NA>\n1735555:   FALSE   FALSE   FALSE   FALSE   FALSE   TRUE             <NA>   <NA>\n         SCIENGP SCIENGRLP  FFODP FHINS3C FHINS4C FHINS5C   RELP  FWRKP  FDISP\n          <lgcl>    <lgcl> <lgcl>  <fctr>  <fctr>  <fctr> <char> <lgcl> <lgcl>\n      1:      NA        NA  FALSE      No    <NA>    <NA>   <NA>  FALSE  FALSE\n      2:      NA        NA  FALSE    <NA>    <NA>    <NA>   <NA>  FALSE  FALSE\n      3:      NA        NA  FALSE    <NA>    <NA>    <NA>   <NA>  FALSE  FALSE\n      4:      NA        NA  FALSE    <NA>    <NA>    <NA>   <NA>  FALSE  FALSE\n      5:      NA        NA  FALSE    <NA>    <NA>    <NA>   <NA>  FALSE   TRUE\n     ---                                                                      \n1735551:   FALSE     FALSE  FALSE    <NA>    <NA>    <NA>   <NA>  FALSE  FALSE\n1735552:      NA        NA  FALSE    <NA>    <NA>    <NA>   <NA>  FALSE  FALSE\n1735553:      NA        NA  FALSE    <NA>    <NA>    <NA>   <NA>  FALSE  FALSE\n1735554:      NA        NA  FALSE      No     Yes    <NA>   <NA>  FALSE  FALSE\n1735555:      NA        NA  FALSE    <NA>    <NA>    <NA>   <NA>  FALSE  FALSE\n         FPERNP FPINCP FPRIVCOVP FPUBCOVP  RACNH  RACPI   SSPA  MLPCD  MLPFG\n         <lgcl> <lgcl>    <lgcl>   <lgcl> <lgcl> <lgcl> <fctr> <lgcl> <lgcl>\n      1:  FALSE  FALSE     FALSE    FALSE  FALSE  FALSE   <NA>     NA     NA\n      2:  FALSE  FALSE     FALSE    FALSE  FALSE  FALSE   <NA>     NA     NA\n      3:  FALSE  FALSE     FALSE    FALSE  FALSE  FALSE   <NA>     NA     NA\n      4:   TRUE   TRUE     FALSE    FALSE  FALSE  FALSE   <NA>     NA     NA\n      5:   TRUE   TRUE      TRUE     TRUE  FALSE  FALSE   <NA>     NA     NA\n     ---                                                                    \n1735551:  FALSE  FALSE     FALSE    FALSE  FALSE  FALSE   <NA>     NA     NA\n1735552:  FALSE  FALSE     FALSE    FALSE  FALSE  FALSE   <NA>     NA     NA\n1735553:  FALSE  FALSE     FALSE    FALSE  FALSE  FALSE   <NA>     NA     NA\n1735554:  FALSE   TRUE      TRUE     TRUE  FALSE  FALSE   <NA>     NA     NA\n1735555:  FALSE  FALSE     FALSE    FALSE  FALSE  FALSE   <NA>     NA     NA\n         FHICOVP                          DIVISION REGION\n          <lgcl>                            <fctr> <fctr>\n      1:   FALSE West South Central (South Region)  South\n      2:   FALSE West South Central (South Region)  South\n      3:   FALSE West South Central (South Region)  South\n      4:   FALSE West South Central (South Region)  South\n      5:    TRUE West South Central (South Region)  South\n     ---                                                 \n1735551:   FALSE West South Central (South Region)  South\n1735552:   FALSE West South Central (South Region)  South\n1735553:   FALSE West South Central (South Region)  South\n1735554:    TRUE West South Central (South Region)  South\n1735555:   FALSE West South Central (South Region)  South\n                                                      HIMRKS             JWTRNS\n                                                      <fctr>             <char>\n      1:                Categorically ineligible for subsidy               <NA>\n      2:                Categorically ineligible for subsidy               <NA>\n      3:                Categorically ineligible for subsidy               <NA>\n      4:                Categorically ineligible for subsidy   Worked from home\n      5:                Categorically ineligible for subsidy               <NA>\n     ---                                                                       \n1735551:                Categorically ineligible for subsidy Car, truck, or van\n1735552: Direct purchase coverage, without a premium subsidy Car, truck, or van\n1735553: Direct purchase coverage, without a premium subsidy Car, truck, or van\n1735554:                Categorically ineligible for subsidy               <NA>\n1735555:                Categorically ineligible for subsidy Car, truck, or van\n                                 RELSHIPP  WKWN FHIMRKSP FJWTRNSP FRELSHIPP\n                                   <char> <int>   <lgcl>   <lgcl>    <lgcl>\n      1:                 Reference person    NA    FALSE    FALSE     FALSE\n      2:                 Reference person    NA    FALSE    FALSE     FALSE\n      3: Opposite-sex husband/wife/spouse    NA    FALSE    FALSE     FALSE\n      4:                 Reference person    52    FALSE    FALSE     FALSE\n      5: Opposite-sex husband/wife/spouse    NA    FALSE    FALSE     FALSE\n     ---                                                                   \n1735551:                 Reference person    52    FALSE    FALSE     FALSE\n1735552: Opposite-sex husband/wife/spouse    52    FALSE    FALSE     FALSE\n1735553:       Biological son or daughter    52    FALSE    FALSE     FALSE\n1735554:                 Reference person    NA    FALSE    FALSE     FALSE\n1735555: Opposite-sex husband/wife/spouse    37    FALSE    FALSE     FALSE\n         FWKWNP  MLPIK  year location age_groups     ins_type age_decade\n         <lgcl> <lgcl> <int>   <char>     <char>       <char>      <num>\n      1:  FALSE     NA  2021       tx        65+     Medicare         80\n      2:  FALSE     NA  2021       tx      18-64 no insurance         60\n      3:  FALSE     NA  2021       tx      18-64 no insurance         50\n      4:   TRUE     NA  2021       tx      18-64 no insurance         20\n      5:  FALSE     NA  2021       tx      18-64 no insurance         20\n     ---                                                                \n1735551:  FALSE     NA  2022       tx      18-64     employer         50\n1735552:  FALSE     NA  2022       tx        65+     employer         60\n1735553:  FALSE     NA  2022       tx      18-64       direct         20\n1735554:  FALSE     NA  2022       tx        65+     employer         60\n1735555:  FALSE     NA  2022       tx      18-64     employer         60\n         avg_income\n              <num>\n      1:   95091.88\n      2:   95091.88\n      3:   95091.88\n      4:   95091.88\n      5:   95091.88\n     ---           \n1735551:  103775.22\n1735552:  103775.22\n1735553:  103775.22\n1735554:  103775.22\n1735555:  103775.22\n```\n\n\n:::\n:::\n\n\n\n## Feature Rich\n\n### Reshaping\n\n::: {.cell}\n\n```{.r .cell-code}\n# Pivot longer - select key demographics\npums_long <- melt(\n  pums, \n  id.vars = c(\"ST\", \"year\", \"SERIALNO\"),\n  measure.vars = c(\"AGEP\", \"PWGTP\", \"PINCP\")\n)\npums_long\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                  ST  year      SERIALNO variable value\n              <char> <int>        <char>   <fctr> <int>\n      1: New York/NY  2021 2021GQ0000077     AGEP    56\n      2: New York/NY  2021 2021GQ0000090     AGEP    48\n      3: New York/NY  2021 2021GQ0000091     AGEP    17\n      4: New York/NY  2021 2021GQ0000094     AGEP    51\n      5: New York/NY  2021 2021GQ0000097     AGEP    85\n     ---                                               \n5206661:    Texas/TX  2022 2022HU0609672    PINCP 27600\n5206662:    Texas/TX  2022 2022HU0609672    PINCP 50000\n5206663:    Texas/TX  2022 2022HU0609672    PINCP 18000\n5206664:    Texas/TX  2022 2022HU0609675    PINCP 33700\n5206665:    Texas/TX  2022 2022HU0609675    PINCP 42200\n```\n\n\n:::\n\n```{.r .cell-code}\n# Pivot wider - average by state/year\npums_summary <- pums[, \n  .(avg_age = mean(AGEP, na.rm = TRUE),\n    avg_income = mean(PINCP, na.rm = TRUE)), \n  by = .(ST, year)\n]\ndcast(pums_summary, ST ~ year, value.var = \"avg_age\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nKey: <ST>\n              ST     2021     2022\n          <char>    <num>    <num>\n1: California/CA 41.47709 41.54009\n2:   New York/NY 43.12366 43.18311\n3:      Texas/TX 40.59856 40.82080\n```\n\n\n:::\n:::\n\n\n\n\n## Feature Rich\n\n### Rolling operations\n\n::: {.cell}\n\n```{.r .cell-code}\n# Population change over time by state\npums_yearly <- pums[, .(pop = sum(PWGTP)), by = .(ST, year)]\nsetkey(pums_yearly, ST, year)\n\n# Calculate 2-year rolling average (limited years available)\npums_yearly[, pop_2yr_avg := frollmean(pop, 2), by = ST]\npums_yearly\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nKey: <ST, year>\n              ST  year      pop pop_2yr_avg\n          <char> <int>    <int>       <num>\n1: California/CA  2021 39237836          NA\n2: California/CA  2022 39029342    39133589\n3:   New York/NY  2021 19835913          NA\n4:   New York/NY  2022 19677151    19756532\n5:      Texas/TX  2021 29527941          NA\n6:      Texas/TX  2022 30029572    29778756\n```\n\n\n:::\n:::\n\n\n## Feature Rich\n\n### Rolling Joins\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbenefit_thresholds <- data.table(\n  age_threshold = c(18, 25, 35, 50, 62, 67),\n  benefit_type = c(\"Youth\", \"Young Adult\", \"Adult\", \"Mid-Career\", \"Pre-Retirement\", \"Senior\"),\n  max_benefit = c(500, 800, 1200, 1500, 2000, 2500)\n)\nsetkey(benefit_thresholds, age_threshold)\nbenefit_thresholds\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nKey: <age_threshold>\n   age_threshold   benefit_type max_benefit\n           <num>         <char>       <num>\n1:            18          Youth         500\n2:            25    Young Adult         800\n3:            35          Adult        1200\n4:            50     Mid-Career        1500\n5:            62 Pre-Retirement        2000\n6:            67         Senior        2500\n```\n\n\n:::\n:::\n\n\n. . . \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Rolling join to assign benefits based on nearest age threshold\npums[\n  benefit_thresholds, \n  benefit_category := benefit_type, \n  on = .(AGEP = age_threshold), \n  roll = -Inf\n]\npums[, .(AGEP, benefit_category, ins_type, location)]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n          AGEP benefit_category ins_type location\n         <int>           <char>   <char>   <char>\n      1:    56             <NA> Medicaid       ny\n      2:    48             <NA> Medicare       ny\n      3:    17             <NA> employer       ny\n      4:    51             <NA> Medicaid       ny\n      5:    85             <NA> employer       ny\n     ---                                         \n1735551:    56             <NA> employer       tx\n1735552:    67           Senior employer       tx\n1735553:    21             <NA>   direct       tx\n1735554:    66             <NA> employer       tx\n1735555:    64             <NA> employer       tx\n```\n\n\n:::\n:::\n\n\nroll = \"nearest\" or roll = +Inf are also possible\n\n\n## Feature Rich\n\n### Operators - Core Symbols\n\n**Essential data.table operators for efficient data manipulation**\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# .N - Number of rows in each group\npums[, .N, by = ST]  # Count rows by state\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n              ST      N\n          <char>  <int>\n1:   New York/NY 403958\n2:      Texas/TX 554365\n3: California/CA 777232\n```\n\n\n:::\n\n```{.r .cell-code}\n# .SD - Subset of Data (all columns except grouping)\npums[, names(.SD) := lapply(.SD, mean, na.rm = TRUE), by = ST, .SDcols = c(\"AGEP\", \"PINCP\")]\npums[, .(ST, AGEP, PINCP)]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                  ST  AGEP PINCP\n              <char> <int> <int>\n      1: New York/NY    43 52025\n      2: New York/NY    43 52025\n      3: New York/NY    43 52025\n      4: New York/NY    43 52025\n      5: New York/NY    43 52025\n     ---                        \n1735551:    Texas/TX    40 45756\n1735552:    Texas/TX    40 45756\n1735553:    Texas/TX    40 45756\n1735554:    Texas/TX    40 45756\n1735555:    Texas/TX    40 45756\n```\n\n\n:::\n\n```{.r .cell-code}\n# .BY - List of grouping variables\npums[, .(mean_age = mean(AGEP), state = gsub(\"/.*$\", \"\", .BY)), by = ST]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n              ST mean_age      state\n          <char>    <num>     <char>\n1:   New York/NY       43   New York\n2:      Texas/TX       40      Texas\n3: California/CA       41 California\n```\n\n\n:::\n\n```{.r .cell-code}\n# .I - Row indices \npums[, .I[which.max(AGEP)], by = ST]  # Index of oldest person per state\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n              ST     V1\n          <char>  <int>\n1:   New York/NY      1\n2:      Texas/TX 200068\n3: California/CA 461514\n```\n\n\n:::\n:::\n\n\n\n## Feature Rich\n\n### Operators - Advanced Features\n\n**Specialized operators for complex operations**\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# .EACHI - For each item in i (useful with joins)\nhousehold_summary[pums, on = .(ST, year), mean(AGEP), by = .EACHI]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                  ST  year    V1\n              <char> <int> <num>\n      1: New York/NY  2021    43\n      2: New York/NY  2021    43\n      3: New York/NY  2021    43\n      4: New York/NY  2021    43\n      5: New York/NY  2021    43\n     ---                        \n1735551:    Texas/TX  2022    40\n1735552:    Texas/TX  2022    40\n1735553:    Texas/TX  2022    40\n1735554:    Texas/TX  2022    40\n1735555:    Texas/TX  2022    40\n```\n\n\n:::\n\n```{.r .cell-code}\n# .GRP - Group counter (1, 2, 3, ...)\npums[, .(grp_num = .GRP, pop = sum(PWGTP)), by = ST]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n              ST grp_num      pop\n          <char>   <int>    <int>\n1:   New York/NY       1 39513064\n2:      Texas/TX       2 59557513\n3: California/CA       3 78267178\n```\n\n\n:::\n\n```{.r .cell-code}\n# Multiple .SD operations with .SDcols\npums[, {\n    means <- lapply(.SD, mean, na.rm = TRUE)\n    medians <- lapply(.SD, median, na.rm = TRUE)\n    vars <- names(.SD)\n    .(vars, means, medians)\n  }, \n  by = ST, \n  .SDcols = c(\"AGEP\", \"PINCP\", \"PWGTP\")\n]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n              ST   vars    means medians\n          <char> <char>   <list>  <list>\n1:   New York/NY   AGEP       43      43\n2:   New York/NY  PINCP    52025   52025\n3:   New York/NY  PWGTP 97.81478      73\n4:      Texas/TX   AGEP       40      40\n5:      Texas/TX  PINCP    45756   45756\n6:      Texas/TX  PWGTP 107.4338      76\n7: California/CA   AGEP       41      41\n8: California/CA  PINCP    54155   54155\n9: California/CA  PWGTP 100.6999      75\n```\n\n\n:::\n\n```{.r .cell-code}\n# Chaining with operators\npums[year == 2022][, .N, by = ST][order(-N)]\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n              ST      N\n          <char>  <int>\n1: California/CA 391171\n2:      Texas/TX 292919\n3:   New York/NY 203891\n```\n\n\n:::\n:::\n\n\n\n## Feature Rich\n\nNot convinced by the syntax?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(dtplyr)\n\npums_dt <- pums |> \n  lazy_dt() |> \n  select(PINCP, age_groups, year) |> \n  group_by(age_groups, year) |> \n  summarise(avg_tot_income = mean(PINCP)) |> \n  collect()  # or as.data.table() will collect it too\npums_dt\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 3\n# Groups:   age_groups [3]\n  age_groups  year avg_tot_income\n  <chr>      <int>          <dbl>\n1 18-64       2021         51100.\n2 18-64       2022         50939.\n3 65+         2021         51131.\n4 65+         2022         50953.\n5 Under 18    2021         50873.\n6 Under 18    2022         50701.\n```\n\n\n:::\n\n```{.r .cell-code}\npums |> \n  lazy_dt() |> \n  select(PINCP, age_groups, year) |> \n  group_by(age_groups, year) |> \n  summarise(avg_tot_income = mean(PINCP)) |> \n  show_query()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n`_DT2`[, .(PINCP, age_groups, year)][, .(avg_tot_income = mean(PINCP)), \n    keyby = .(age_groups, year)]\n```\n\n\n:::\n:::\n\n\n\n\n## Review\n\n1. **Learn the `DT[i, j, by]` syntax** - it's the foundation\n2. **Use keys** for fast subsetting and joins\n3. **Modify by reference** with `:=` for memory efficiency\n4. **Chain operations and use operators** for readable, efficient code\n5. **Check the documentation** - excellent vignettes available\n\n**Resources:**\n\n- Official vignettes: `vignette(\"datatable-intro\")`\n- GitHub: https://github.com/Rdatatable/data.table\n- Stack Overflow: [data.table] tag\n\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}